<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hello World</title>
    <url>/2023/07/075388a72a39.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>Welcome to <a class="link" href="https://hexo.io/">Hexo <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>! This is your very first post. Check <a class="link" href="https://hexo.io/docs/">documentation <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> for more info. If you get any problems when using Hexo, you can find the answer in <a class="link" href="https://hexo.io/docs/troubleshooting.html">troubleshooting <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> or you can ask me on <a class="link" href="https://github.com/hexojs/hexo/issues">GitHub <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></tbody></table></figure></div>

<p>More info: <a class="link" href="https://hexo.io/docs/writing.html">Writing <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></tbody></table></figure></div>

<p>More info: <a class="link" href="https://hexo.io/docs/server.html">Server <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></tbody></table></figure></div>

<p>More info: <a class="link" href="https://hexo.io/docs/generating.html">Generating <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></tbody></table></figure></div>

<p>More info: <a class="link" href="https://hexo.io/docs/one-command-deployment.html">Deployment <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
]]></content>
      <categories>
        <category>å˜¿å˜¿</category>
      </categories>
  </entry>
  <entry>
    <title>build my blog</title>
    <url>/2023/07/122701f1f353.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h3 id="åŸºæœ¬é…ç½®"><a href="#åŸºæœ¬é…ç½®" class="headerlink" title="åŸºæœ¬é…ç½®"></a>åŸºæœ¬é…ç½®</h3><p>æ•™ç¨‹ï¼Œå€Ÿç”¨llqçš„åšå®¢<a class="link" href="https://xmnsatay.github.io/2023/02/26/%E8%AE%B0%E5%BD%95%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/">https://xmnsatay.github.io/2023/02/26/%E8%AE%B0%E5%BD%95%E7%AC%AC%E4%B8%80%E6%AC%A1%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h3 id="è¸©å‘"><a href="#è¸©å‘" class="headerlink" title="è¸©å‘"></a>è¸©å‘</h3><ul>
<li>hexo-då‡ºé”™<ul>
<li>è§£å†³ï¼šllqè¯´æ²¡ä¸‹è½½hexo-deployer-git<ul>
<li>npm install hexo-deployer-git â€“save</li>
</ul>
</li>
</ul>
</li>
<li>å›¾ç‰‡åªèƒ½åœ¨æœ¬åœ°æŸ¥çœ‹ï¼Œè¿˜ä¸ä¼šæ·»åŠ å›¾åºŠ<ul>
<li>è§£å†³ï¼šç”¨äº†èšåˆå›¾åºŠï¼Œåç»­å¯èƒ½ä¼šè€ƒè™‘ä½¿ç”¨é˜¿é‡Œäº‘oss</li>
<li>æ”¾ä¸ªç½‘å€<a class="link" href="https://cursorhu.github.io/2022/02/28/%E6%90%AD%E5%BB%BA%E9%AB%98%E5%8F%AF%E7%A7%BB%E6%A4%8D%E7%9A%84Markdown%E5%86%99%E4%BD%9C%E5%92%8C%E5%8D%9A%E5%AE%A2%E7%8E%AF%E5%A2%83%EF%BC%9AObsidian+PicGo+Hexo+Github/">æ­å»ºé«˜å¯ç§»æ¤çš„Markdownå†™ä½œå’Œåšå®¢ç¯å¢ƒï¼šObsidian+PicGo+Hexo+Github | ThinkNotes (cursorhu.github.io) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li><a class="link" href="https://zhuanlan.zhihu.com/p/104152479">é˜¿é‡Œäº‘OSS PicGo é…ç½®å›¾åºŠæ•™ç¨‹ è¶…è¯¦ç»† - çŸ¥ä¹ (zhihu.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
</ul>
</li>
<li>å­˜æ”¾è¿™ä¸ªåšå®¢çš„ä»“åº“åå­—ä¸€å¼€å§‹è·Ÿgithubç”¨æˆ·åä¸åŒ<ul>
<li>è§£å†³ï¼šä»“åº“åå­—æ”¹æˆäº†ç”¨æˆ·å</li>
<li>ç–‘é—®ï¼šä»“åº“åå­—è®¾ç½®ä¸ºç”¨æˆ·åä¸€å®šå¯ä»¥ä¿è¯åç»­åšå®¢åŸŸåçš„å”¯ä¸€æ€§å—ï¼ŸåŸŸåä¸åŒºåˆ†å¤§å°å†™ï¼Œç„¶ååé¢ä¸€æœå‘ç°githubçš„ç”¨æˆ·åä¹Ÿä¸åŒºåˆ†å¤§å°å†™å“ˆå“ˆå“ˆğŸ¤£</li>
</ul>
</li>
<li>æˆåŠŸé€šè¿‡åŸŸåè®¿é—®åˆ°åšå®¢åï¼Œæ˜¾ç¤ºçš„ç•Œé¢åªæœ‰æˆ‘çš„ä»“åº“åç§°<ul>
<li>è§£å†³ï¼šhexo cleanåå†é‡æ–°æ“ä½œï¼Œä¸çŸ¥é“ä¸ºå•¥ï¼Ÿ</li>
</ul>
</li>
<li>vscodeå†™markdownä¸ä¸æ»‘ï¼Œå‡†å¤‡æ¢æˆobsidian<ul>
<li>æ”¾ä¸ªæ•™ç¨‹<a class="link" href="https://blog.esunr.xyz/2022/07/e9b42b453d9f.html#3-2-%E4%BD%BF%E7%94%A8-Obsidian-%E6%A8%A1%E6%9D%BF%E5%BF%AB%E9%80%9F%E5%88%9B%E5%BB%BA%E6%96%87%E7%AB%A0">Hexo + Obsidian + Git å®Œç¾çš„åšå®¢éƒ¨ç½²ä¸ç¼–è¾‘æ–¹æ¡ˆ | EsunR-Blog <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
<li>å­˜åœ¨çš„é—®é¢˜ï¼šæŒ‰ç…§ä¸Šè¿°æ–¹æ¡ˆä¼˜åŒ–ï¼Œåœ¨obé‡Œåˆ›å»ºæ–‡ä»¶å¤¹ååœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºæ–‡ä»¶ï¼Œå¯è‡ªåŠ¨åˆ†ç±»è¡¥å…¨categoriesï¼Œä½†æ˜¯åç»­æƒ³è¦ä¿®æ”¹åˆ†ç±»çš„æ—¶å€™ä¼šè‡ªåŠ¨å˜å›åŸæ¥çš„categoriesï¼Œå³ä¿®æ”¹ä¸äº†ï¼ŒçŒœæƒ³å¯èƒ½æ˜¯å› ä¸ºè‡ªåŠ¨åˆ†ç±»æ’ä»¶ï¼Œç›®å‰è¿˜æœªè§£å†³</li>
</ul>
</li>
<li>é…ç½®ymlæ–‡ä»¶ç»å¸¸å‡ºé”™<ul>
<li>å¤šæ³¨æ„ç¼©è¿›</li>
</ul>
</li>
</ul>
<h3 id="é…ç½®ä¸»é¢˜"><a href="#é…ç½®ä¸»é¢˜" class="headerlink" title="é…ç½®ä¸»é¢˜"></a>é…ç½®ä¸»é¢˜</h3><p>æ”¾ä¸ªredefineçš„å®˜æ–¹æ–‡æ¡£ <a class="link" href="https://redefine-docs.ohevan.com/">Theme Redefine Docs - Redefine Docs (ohevan.com) <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h3 id="é¼“åŠ±è‡ªå·±"><a href="#é¼“åŠ±è‡ªå·±" class="headerlink" title="é¼“åŠ±è‡ªå·±"></a>é¼“åŠ±è‡ªå·±</h3><p>æ­åšå®¢æœ‰ç‚¹éº»çƒ¦ï¼Œå¸Œæœ›æˆ‘èƒ½å¥½å¥½è®°å½•ä¸‹å»ï¼Œæˆ–è€…è¯´åœ¨è¿™é‡Œå‚¨å­˜å‚¨å­˜æˆ‘çš„ç¬”è®°å“ˆå“ˆå“ˆå“ˆğŸ˜€</p>
<pre><code>&lt;!--more--&gt;
</code></pre>
]]></content>
      <categories>
        <category>å®æ“è®°å½•</category>
      </categories>
      <tags>
        <tag>æ­åšå®¢</tag>
        <tag>è¸©å‘</tag>
      </tags>
  </entry>
  <entry>
    <title>12.2æ‚è°ˆ</title>
    <url>/2023/12/3d52ef79bb83.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>å‘ƒå‘ƒå‘ƒæˆ‘å†™åšå®¢çš„å°±è·Ÿå†™æ—¥è®°ä¸€æ ·ä¸‰åˆ†é’Ÿçƒ­åº¦</p>
]]></content>
      <categories>
        <category>Ñ‚Ñâ•ªĞ³</category>
      </categories>
      <tags>
        <tag>æ—¥è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>7.13æ‚è°ˆ</title>
    <url>/2023/07/f38d710a42eb.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>å‰å¤©æ˜¨å¤©ç®€å•åœ°å»ºèµ·äº†åšå®¢ï¼Œè™½ç„¶ç¢°åˆ°äº†å¾ˆå¤šå¥‡æ€ªçš„é—®é¢˜ğŸ˜¢<br>è€Œä¸”è™½ç„¶åˆ©ç”¨obåŠ å›¾åºŠå¯ä»¥å¾ˆå¥½åœ°ç¼–è¾‘äº†ï¼ˆæ’é™¤äº†hexo-renderer-markedæ–¹æ¡ˆï¼Œå› ä¸ºæˆ‘ä¸ç”¨hexo newæŒ‡ä»¤ï¼Œç›´æ¥åœ¨obé‡Œåˆ›å»ºæ–‡ä»¶ï¼‰ä½†æ˜¯åœ¨ç¼–è¾‘åœ°æ—¶å€™ï¼Œä¸èƒ½ç›´æ¥é¢„è§ˆå›¾ç‰‡ï¼ŒæŠ“è€³æŒ è…®.jpgï¼Œå¸Œæœ›åç»­å¯ä»¥è§£å†³<br>æ˜¨å¤©è¿˜æ·»åŠ äº†æˆ‘çš„ç½‘æ˜“äº‘æ­Œå•ï¼Œè¯è¯´è¿™æ ·å²‚ä¸æ˜¯å¯ä»¥ä¸ä»˜è´¹å¬ä»˜è´¹åœ°æ­Œäº†ï¼ˆå› ä¸ºç”¨çš„æ˜¯æˆ‘çš„idï¼‰å¥½åƒæœ‰ç‚¹å±é™©</p>
]]></content>
      <categories>
        <category>Ñ‚Ñâ•ªĞ³</category>
      </categories>
      <tags>
        <tag>æ—¥è®°</tag>
      </tags>
  </entry>
  <entry>
    <title>è¿ç§»åšå®¢ï¼ŒobsidianåŠå›¾ç‰‡è·¯å¾„ç›¸å…³é—®é¢˜</title>
    <url>/2025/03/3ab441bd3ff9.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line"></span><br><span class="line">å‘ç°æŠ¥é”™ï¼š</span><br><span class="line"></span><br><span class="line">```text</span><br><span class="line">ERROR Deployer not found: git</span><br></pre></td></tr></tbody></table></figure></div>

<p>åªéœ€è¦å®‰è£…ï¼š</p>
<div class="highlight-container" data-rel="Text"><figure class="iseeu highlight text"><table><tbody><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></tbody></table></figure></div>

<p>å¦å¤–ä¿©æŠ¥é”™</p>
<p> sshè¿æ¥æ–¹å¼åŠConnection closed by 198.xx.xx.xx port 22é”™è¯¯è§£å†³<br><a class="link" href="https://blog.csdn.net/m0_60340438/article/details/141273109">https://blog.csdn.net/m0_60340438/article/details/141273109 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a><br>Nunjucks Error: è§£å†³æ–¹æ¡ˆ<br><a class="link" href="https://blog.csdn.net/weixin_45333934/article/details/108274320">https://blog.csdn.net/weixin_45333934/article/details/108274320 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>éœ€æ±‚ï¼š</p>
<ol>
<li>å›¾ç‰‡æ˜¾ç¤º<ul>
<li>æ¯”è¾ƒç®€å•çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨ç›¸å¯¹è·¯å¾„</li>
<li>å›¾ç‰‡å¿…é¡»åœ¨source/imagesä¸‹æ‰èƒ½æ˜¾ç¤ºï¼Œå¦åˆ™ä¸ç®¡ä»€ä¹ˆç›¸å¯¹è·¯å¾„éƒ½ä¸ç®¡ç”¨ï¼ˆæ˜¯ä¸æ˜¯ä¸»é¢˜çš„é—®é¢˜ï¼Ÿçƒ¦æ­»å•¦å“ˆå“ˆï¼‰</li>
</ul>
</li>
<li>æ‰€æœ‰çš„ç¬”è®°éƒ½åœ¨å­¦ä¹ ä»“åº“é‡Œï¼Œä¸å¯èƒ½å•ç‹¬åœ¨åšå®¢ä»“åº“ä¸‹ç¼–è¾‘ï¼Œæ‰€ä»¥éœ€è¦ä»å­¦ä¹ ä»“åº“é‡ŒæŠŠç¬”è®°å’Œå›¾ç‰‡éƒ½ä¼ åˆ°åšå®¢ä»“åº“<ul>
<li>è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨obsidianæ’ä»¶envelopeï¼Œå°†å­¦ä¹ ä»“åº“ä¸­çš„ç¬”è®°ä¸Šä¼ å†pullï¼Œç„¶åå†æ‰§è¡Œhexo d -gï¼ˆåç»­è¦è€ƒè™‘è‡ªåŠ¨åŒ–ï¼‰</li>
<li>é—®é¢˜ï¼šè¯¥æ’ä»¶æ‰€æœ‰çš„æ–‡ç« éƒ½è¢«ä¼ åˆ°åŒä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå³ä¸èƒ½å›¾ç‰‡å•ç‹¬ä¼ åˆ°source/imagesä¸‹ï¼Œå°±ç®—pullåæ‰‹åŠ¨å°†å›¾ç‰‡ç§»åˆ°imagesä¸‹ï¼Œæ–‡ç« çš„å›¾ç‰‡è·¯å¾„ï¼ˆå­¦ä¹ ä»“åº“é‡Œçš„ç›¸å¯¹è·¯å¾„ï¼‰æ²¡æ³•æ”¹æˆåšå®¢ä»“åº“çš„ç›¸å¯¹è·¯å¾„ã€‚ã€‚ã€‚</li>
</ul>
</li>
</ol>
<p><img lazyload="" src="/images/loading.svg" data-src="/../images/Pasted%20image%2020250306201923.png"><br><img lazyload="" src="/images/loading.svg" data-src="/Pasted%20image%2020250308170256.png"></p>
]]></content>
      <categories>
        <category>å˜¿å˜¿</category>
      </categories>
  </entry>
  <entry>
    <title></title>
    <url>/2025/03/a1a6e95e6be5.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>lalalla<img lazyload="" src="/images/loading.svg" data-src="/../images/Pasted%20image%2020250308210432.png"></p>
]]></content>
  </entry>
  <entry>
    <title>Lab4-3åŒæ€åŠ å¯†å®éªŒ</title>
    <url>/2025/03/0449522b56bb.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>è¿™ä¸€ç¯‡æµ‹è¯•ä¸€ä¸‹ç§»åŠ¨å›¾ç‰‡+æ‰¹é‡æ”¹å›¾ç‰‡å†…é“¾è„šæœ¬</p>
<h1 id="Lab4-3åŒæ€åŠ å¯†å®éªŒ"><a href="#Lab4-3åŒæ€åŠ å¯†å®éªŒ" class="headerlink" title="Lab4-3åŒæ€åŠ å¯†å®éªŒ"></a>Lab4-3åŒæ€åŠ å¯†å®éªŒ</h1><ul>
<li><p>è¯¾ç¨‹ï¼šå¤§æ•°æ®å®‰å…¨</p>
</li>
<li><p>ç»„å·ï¼šç¬¬9ç»„</p>
</li>
<li><p>æˆå‘˜ï¼šç‹é›¨è¾° 2022211650    æå­œç‚ 2022211651    è‚–å£¹å¤« 2022211655    å¾åŒä¸€ 2022211657    å¼ ä¸½å¨œ 2022211673</p>
</li>
</ul>
<p>	</p>
<p><strong>å®éªŒå†…å®¹ï¼š</strong><br>åŒæ€åŠ å¯†æ¨¡å—æ˜¯æ•°æ®å®‰å…¨æ•™å­¦å®éªŒä¸­çš„ä¸€ä¸ªé‡è¦æ¨¡å—ï¼Œå…·ä½“åŠŸèƒ½åŒ…æ‹¬PaillieråŠ æ³•åŒæ€åŠ å¯†ç®—æ³•çš„<strong>å®ç°</strong>ã€åŠ æ³•åŒæ€åŠ å¯†ç®—æ³•ä¸å…¸å‹çš„å…¨åŒæ€åŠ å¯†ç®—æ³•ä¹‹é—´<strong>æ€§èƒ½æ¯”è¾ƒåˆ†æ</strong>ã€åŸºäºå®‰å…¨ç­‰çº§çš„<strong>å¯†é’¥é•¿åº¦é€‰å–æ–¹æ³•</strong>ã€ç»å…¸é—®é¢˜ï¼ˆå¹³å‡å·¥èµ„é—®é¢˜ï¼‰çš„<strong>ç¼–ç¨‹å®ç°</strong></p>
<h2 id="1-PaillieråŠ æ³•åŒæ€åŠ å¯†ç®—æ³•çš„å®ç°"><a href="#1-PaillieråŠ æ³•åŒæ€åŠ å¯†ç®—æ³•çš„å®ç°" class="headerlink" title="1. PaillieråŠ æ³•åŒæ€åŠ å¯†ç®—æ³•çš„å®ç°"></a>1. PaillieråŠ æ³•åŒæ€åŠ å¯†ç®—æ³•çš„å®ç°</h2><h6 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h6><ul>
<li><strong>ç”Ÿæˆå¯†é’¥å¯¹</strong>ï¼šPaillieråŠ å¯†ç®—æ³•éœ€è¦ç”Ÿæˆå…¬é’¥å’Œç§é’¥ã€‚é¦–å…ˆéœ€è¦é€‰æ‹©ä¸¤ä¸ªå¤§ç´ æ•°på’Œ qï¼Œè®¡ç®— n=pÃ—qï¼Œç„¶åè®¡ç®— Î»=lcm(pâˆ’1,qâˆ’1)ï¼Œç”Ÿæˆå…¬é’¥ (n,g)å’Œç§é’¥ Î»ã€‚</li>
<li><strong>åŠ å¯†</strong>ï¼šé€‰æ‹©ä¸€ä¸ªæ˜æ–‡ mï¼Œç„¶åè®¡ç®—åŠ å¯†å¯†æ–‡ c:$$c=g^m\times r^n  \  mod\  n^2$$å…¶ä¸­ï¼Œr æ˜¯ä¸€ä¸ªéšæœºæ•°ï¼Œä¸” réœ€è¦æ»¡è¶³ä¸ näº’è´¨ã€‚</li>
<li><strong>åŠ æ³•åŒæ€æ€§</strong>ï¼šPaillieråŠ å¯†æ”¯æŒåŠ æ³•åŒæ€æ€§ï¼Œå³å¯¹äºä¸¤ä¸ªåŠ å¯†å€¼ $c_1$å’Œ $c_2$ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ“ä½œè®¡ç®—åŠ å¯†åçš„ç»“æœï¼š$$c_1 \times c_2 \mod n^2 = \text{Enc}(m_1 + m_2)$$è¿™æ ·ï¼Œåœ¨åŠ å¯†åçš„æ•°æ®ä¸Šç›´æ¥è¿›è¡Œä¹˜æ³•æ“ä½œï¼Œè§£å¯†åå³ä¸ºæ˜æ–‡ç›¸åŠ çš„ç»“æœã€‚</li>
<li><strong>è§£å¯†</strong>ï¼šä½¿ç”¨ç§é’¥ Î» è§£å¯†å¯†æ–‡ï¼š$$m = \frac{L(c^\lambda \mod n^2)}{L(g^\lambda \mod n^2)} \mod n$$å…¶ä¸­ï¼Œ$L(x) = \frac{x - 1}{n}$æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å‡½æ•°ã€‚</li>
</ul>
<h6 id="éªŒè¯ï¼š"><a href="#éªŒè¯ï¼š" class="headerlink" title="éªŒè¯ï¼š"></a><strong>éªŒè¯ï¼š</strong></h6><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> phe <span class="keyword">import</span> paillier  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">paillier_homomorphic_addition</span>():  </span><br><span class="line">    <span class="comment"># ç”Ÿæˆ Paillier å¯†é’¥å¯¹  </span></span><br><span class="line">    public_key, private_key = paillier.generate_paillier_keypair()  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># æ˜æ–‡æ•°  </span></span><br><span class="line">    m1 = <span class="number">100</span>  </span><br><span class="line">    m2 = <span class="number">200</span>  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># ä½¿ç”¨å…¬é’¥åŠ å¯†æ˜æ–‡æ•°  </span></span><br><span class="line">    encrypted1 = public_key.encrypt(m1)  </span><br><span class="line">    encrypted2 = public_key.encrypt(m2)  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># åŒæ€åŠ æ³•ï¼ˆå¯¹åŠ å¯†çš„æ•°è¿›è¡ŒåŠ æ³•è¿ç®—ï¼‰  </span></span><br><span class="line">    encrypted_sum = encrypted1 + encrypted2  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># ä½¿ç”¨ç§é’¥è§£å¯†åŒæ€åŠ æ³•ç»“æœ  </span></span><br><span class="line">    decrypted_sum = private_key.decrypt(encrypted_sum)  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># è¾“å‡ºç»“æœ  </span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f"Decrypted sum: <span class="subst">{decrypted_sum}</span>"</span>)  <span class="comment"># åº”è¯¥è¾“å‡º 300  </span></span><br><span class="line"><span class="comment"># æ‰§è¡ŒåŒæ€åŠ æ³•  </span></span><br><span class="line">paillier_homomorphic_addition()</span><br></pre></td></tr></tbody></table></figure></div>
<p>![[./Pasted image 20241115232100.png|Pasted image 20241115232100]]</p>
<hr>
<h2 id="2-åŠ æ³•åŒæ€åŠ å¯†ç®—æ³•ä¸å…¸å‹çš„å…¨åŒæ€åŠ å¯†ç®—æ³•ä¹‹é—´æ€§èƒ½æ¯”è¾ƒåˆ†æ"><a href="#2-åŠ æ³•åŒæ€åŠ å¯†ç®—æ³•ä¸å…¸å‹çš„å…¨åŒæ€åŠ å¯†ç®—æ³•ä¹‹é—´æ€§èƒ½æ¯”è¾ƒåˆ†æ" class="headerlink" title="2. åŠ æ³•åŒæ€åŠ å¯†ç®—æ³•ä¸å…¸å‹çš„å…¨åŒæ€åŠ å¯†ç®—æ³•ä¹‹é—´æ€§èƒ½æ¯”è¾ƒåˆ†æ"></a>2. åŠ æ³•åŒæ€åŠ å¯†ç®—æ³•ä¸å…¸å‹çš„å…¨åŒæ€åŠ å¯†ç®—æ³•ä¹‹é—´æ€§èƒ½æ¯”è¾ƒåˆ†æ</h2><p>è¿›è¡Œ åŠ æ³•åŒæ€åŠ å¯†ç®—æ³•ï¼ˆå¦‚ Paillierï¼‰ä¸ <strong>å…¸å‹çš„å…¨åŒæ€åŠ å¯†ç®—æ³•</strong>ï¼ˆå¦‚ BFVã€CKKS ç­‰ï¼‰çš„æ€§èƒ½æ¯”è¾ƒåˆ†æï¼Œæ¶‰åŠå¤šä¸ªæ–¹é¢çš„è€ƒé‡ï¼ŒåŒ…æ‹¬åŠ å¯†/è§£å¯†é€Ÿåº¦ã€åŒæ€è¿ç®—çš„æ•ˆç‡ã€å¯†æ–‡å¤§å°ã€é€‚ç”¨åœºæ™¯ç­‰ã€‚å…¨åŒæ€åŠ å¯†ï¼ˆFHEï¼ŒFully Homomorphic Encryptionï¼‰æ˜¯æ”¯æŒåŠ æ³•å’Œä¹˜æ³•ç­‰å¤šç§åŒæ€æ“ä½œçš„åŠ å¯†æ–¹æ¡ˆï¼Œè€ŒåŠ æ³•åŒæ€åŠ å¯†ï¼ˆå¦‚ Paillierï¼‰åªæ”¯æŒåŠ æ³•æ“ä½œã€‚</p>
<h4 id="2-1-åŠ è§£å¯†é€Ÿåº¦æ¯”è¾ƒåˆ†æ"><a href="#2-1-åŠ è§£å¯†é€Ÿåº¦æ¯”è¾ƒåˆ†æ" class="headerlink" title="2.1 åŠ è§£å¯†é€Ÿåº¦æ¯”è¾ƒåˆ†æ"></a>2.1 åŠ è§£å¯†é€Ÿåº¦æ¯”è¾ƒåˆ†æ</h4><ul>
<li><strong>åŠ æ³•åŒæ€åŠ å¯†ï¼ˆå¦‚ Paillierï¼‰ï¼š</strong><ul>
<li>Paillier åŠ å¯†ç®—æ³•åªæ”¯æŒåŠ æ³•åŒæ€è¿ç®—ï¼Œå› æ­¤åŠ å¯†å’Œè§£å¯†é€Ÿåº¦ç›¸å¯¹è¾ƒå¿«ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†å¤§æ‰¹é‡æ•°æ®æ—¶ï¼Œæ•ˆç‡è¾ƒé«˜ã€‚</li>
<li>åŠ å¯†æ“ä½œé€šå¸¸æ˜¯åŸºäºæŒ‡æ•°è¿ç®—ï¼Œè§£å¯†æ“ä½œç›¸å¯¹è¾ƒç®€å•ï¼Œé€šå¸¸æ¶‰åŠä¸€ä¸ªæ¨¡é€†è¿ç®—ã€‚</li>
<li>ç”±äºåªæ”¯æŒåŠ æ³•ï¼ŒåŒæ€åŠ æ³•æ“ä½œé€šå¸¸æ¯”è¾ƒå¿«é€Ÿï¼Œé€‚åˆå¤„ç†ä¸€äº›å¯¹åŠ æ³•æ¯”è¾ƒå¯†é›†çš„ä»»åŠ¡ï¼ˆå¦‚ç»Ÿè®¡è®¡ç®—ã€éšç§ä¿æŠ¤çš„åŠ æ³•æ“ä½œç­‰ï¼‰ã€‚</li>
</ul>
</li>
<li><strong>å…¨åŒæ€åŠ å¯†ï¼ˆå¦‚ BFVã€CKKSï¼‰ï¼š</strong><ul>
<li>å…¨åŒæ€åŠ å¯†æ”¯æŒåŠ æ³•ã€ä¹˜æ³•ã€ä»¥åŠæ›´å¤šå¤æ‚çš„è¿ç®—ï¼Œå› æ­¤å…¶åŠ å¯†å’Œè§£å¯†çš„è®¡ç®—å¤æ‚åº¦è¾ƒé«˜ã€‚</li>
<li>åœ¨æ”¯æŒå¤šç§åŒæ€è¿ç®—æ—¶ï¼Œè§£å¯†è¿‡ç¨‹å¾€å¾€éœ€è¦å¤šæ¬¡å¯†æ–‡è§£å‹ã€å½’çº¦å’Œè§£å¯†ï¼Œè®¡ç®—è´Ÿæ‹…è¾ƒå¤§ã€‚</li>
<li>ç”±äºå…¨åŒæ€åŠ å¯†æ”¯æŒå¤šç§è¿ç®—ï¼Œå®ƒçš„åŠ å¯†å’Œè§£å¯†æ—¶é—´ä¼šæ˜¾è‘—å¤§äºåŠ æ³•åŒæ€åŠ å¯†ã€‚</li>
</ul>
</li>
</ul>
<h6 id="ä»£ç ï¼ˆä½¿ç”¨pheåº“ç‰ˆï¼‰"><a href="#ä»£ç ï¼ˆä½¿ç”¨pheåº“ç‰ˆï¼‰" class="headerlink" title="ä»£ç ï¼ˆä½¿ç”¨pheåº“ç‰ˆï¼‰"></a>ä»£ç ï¼ˆä½¿ç”¨pheåº“ç‰ˆï¼‰</h6><p>compare.py</p>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> time  </span><br><span class="line"><span class="keyword">import</span> phe  </span><br><span class="line"><span class="keyword">import</span> tenseal <span class="keyword">as</span> ts  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># ======================= ä¼˜åŒ–åçš„ Paillier åŠ æ³•åŒæ€åŠ è§£å¯† =======================def paillier_encryption_batch(values):  </span></span><br><span class="line">    <span class="comment"># åˆ›å»º Paillier å¯†é’¥å¯¹  </span></span><br><span class="line">    public_key, private_key = phe.generate_paillier_keypair()  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># æ‰¹é‡åŠ å¯†æ•°æ®  </span></span><br><span class="line">    encrypted_values = [public_key.encrypt(value) <span class="keyword">for</span> value <span class="keyword">in</span> values]  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># åŒæ€åŠ æ³•  </span></span><br><span class="line">    encrypted_sum = encrypted_values[<span class="number">0</span>]  </span><br><span class="line">    <span class="keyword">for</span> enc_value <span class="keyword">in</span> encrypted_values[<span class="number">1</span>:]:  </span><br><span class="line">        encrypted_sum += enc_value  <span class="comment"># æ‰¹é‡åŠ æ³•  </span></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> encrypted_sum, public_key, private_key  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">paillier_decryption</span>(<span class="params">encrypted_value, private_key</span>):  </span><br><span class="line">    <span class="comment"># è§£å¯†æ•°æ®  </span></span><br><span class="line">    decrypted_value = private_key.decrypt(encrypted_value)  </span><br><span class="line">    <span class="keyword">return</span> decrypted_value  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># ======================= å…¨åŒæ€åŠ è§£å¯†ï¼ˆTenSEAL - CKKSï¼‰ =======================def full_homomorphic_encryption(value1, value2, context):  </span></span><br><span class="line">    <span class="comment"># åˆ›å»º CKKS å‘é‡å¹¶åŠ å¯†  </span></span><br><span class="line">    encrypted_value1 = ts.ckks_vector(context, [value1])  </span><br><span class="line">    encrypted_value2 = ts.ckks_vector(context, [value2])  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># åŒæ€åŠ æ³•  </span></span><br><span class="line">    encrypted_sum = encrypted_value1 + encrypted_value2  </span><br><span class="line">    <span class="keyword">return</span> encrypted_sum  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">full_homomorphic_decryption</span>(<span class="params">encrypted_value, secret_key</span>):  </span><br><span class="line">    <span class="comment"># è§£å¯†æ•°æ®  </span></span><br><span class="line">    decrypted_value = encrypted_value.decrypt(secret_key)  </span><br><span class="line">    <span class="keyword">return</span> decrypted_value[<span class="number">0</span>]  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># ======================= å®éªŒä»£ç ï¼šæ¯”è¾ƒåŠ æ³•åŒæ€å’Œå…¨åŒæ€åŠ è§£å¯†é€Ÿåº¦ =======================# Paillier åŠ æ³•åŒæ€åŠ è§£å¯†ï¼ˆä¼˜åŒ–ç‰ˆï¼‰  </span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">paillier_test</span>():  </span><br><span class="line">    <span class="comment"># æµ‹è¯•æ•°æ®  </span></span><br><span class="line">    values = [<span class="number">15</span>, <span class="number">20</span>]  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># è®¡æ—¶  </span></span><br><span class="line">    start_time = time.time()  </span><br><span class="line">    encrypted_sum, public_key, private_key = paillier_encryption_batch(values)  </span><br><span class="line">    decrypted_sum = paillier_decryption(encrypted_sum, private_key)  </span><br><span class="line">    end_time = time.time()  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># è¾“å‡º Paillier åŠ è§£å¯†ç»“æœ  </span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f"Paillier åŠ è§£å¯†æ—¶é—´: <span class="subst">{end_time - start_time}</span> ç§’"</span>)  </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f"Paillier è§£å¯†ç»“æœ: <span class="subst">{decrypted_sum}</span>"</span>)  </span><br><span class="line">    <span class="keyword">return</span> end_time - start_time  <span class="comment"># è¿”å›åŠ è§£å¯†æ—¶é—´  </span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># å…¨åŒæ€åŠ è§£å¯†ï¼ˆTenSEAL - CKKSï¼‰  </span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">full_homomorphic_test</span>():  </span><br><span class="line">    <span class="comment"># åˆ›å»º TenSEAL ä¸Šä¸‹æ–‡ï¼Œåˆå§‹åŒ–åŠ å¯†å‚æ•°  </span></span><br><span class="line">    context = ts.context(ts.SCHEME_TYPE.CKKS, poly_modulus_degree=<span class="number">8192</span>, coeff_mod_bit_sizes=[<span class="number">60</span>, <span class="number">40</span>, <span class="number">60</span>])  </span><br><span class="line">    context.global_scale = <span class="number">2</span>**<span class="number">40</span>  <span class="comment"># è®¾ç½® global scale    context.generate_galois_keys()  # ç”Ÿæˆ Galois å¯†é’¥  </span></span><br><span class="line">    secret_key = context.secret_key()  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># æµ‹è¯•æ•°æ®  </span></span><br><span class="line">    value1, value2 = <span class="number">15</span>, <span class="number">20</span>  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># è®¡æ—¶  </span></span><br><span class="line">    start_time = time.time()  </span><br><span class="line">    encrypted_sum = full_homomorphic_encryption(value1, value2, context)  </span><br><span class="line">    decrypted_sum = full_homomorphic_decryption(encrypted_sum, secret_key)  </span><br><span class="line">    end_time = time.time()  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># è¾“å‡º TenSEAL åŠ è§£å¯†ç»“æœ  </span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f"å…¨åŒæ€åŠ è§£å¯†æ—¶é—´: <span class="subst">{end_time - start_time}</span> ç§’"</span>)  </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f"å…¨åŒæ€è§£å¯†ç»“æœ: <span class="subst">{decrypted_sum}</span>"</span>)  </span><br><span class="line">    <span class="keyword">return</span> end_time - start_time  <span class="comment"># è¿”å›åŠ è§£å¯†æ—¶é—´  </span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># ======================= ä¸»ç¨‹åºï¼šæ¯”è¾ƒ Paillier å’Œ TenSEAL çš„æ€§èƒ½ =======================if __name__ == "__main__":  </span></span><br><span class="line">    <span class="comment"># æ¯”è¾ƒåŠ æ³•åŒæ€åŠ è§£å¯†æ—¶é—´ï¼ˆPaillierï¼‰  </span></span><br><span class="line">    paillier_time = paillier_test()  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># æ¯”è¾ƒå…¨åŒæ€åŠ è§£å¯†æ—¶é—´ï¼ˆTenSEALï¼‰  </span></span><br><span class="line">    full_homomorphic_time = full_homomorphic_test()  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># è¾“å‡ºå¯¹æ¯”ç»“æœ  </span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f"\nå®éªŒç»“æœï¼š"</span>)  </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f"Paillier åŠ æ³•åŒæ€åŠ è§£å¯†æ—¶é—´: <span class="subst">{paillier_time}</span> ç§’"</span>)  </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f"å…¨åŒæ€åŠ è§£å¯†æ—¶é—´ (TenSEAL): <span class="subst">{full_homomorphic_time}</span> ç§’"</span>)</span><br></pre></td></tr></tbody></table></figure></div>

<p><img lazyload="" src="/images/loading.svg" data-src="/../images/Pasted%20image%2020241118154833.png"></p>
<h6 id="ä»£ç ï¼ˆgmpy2ï¼‰"><a href="#ä»£ç ï¼ˆgmpy2ï¼‰" class="headerlink" title="ä»£ç ï¼ˆgmpy2ï¼‰"></a>ä»£ç ï¼ˆgmpy2ï¼‰</h6><p>compare2.py<br>è¿™ä¸ªç‰ˆæœ¬ä½¿ç”¨gmpy2åº“è‡ªå®šä¹‰å®ç°paillierï¼Œç›¸æ¯”äºä¸Šä¸ªç‰ˆæœ¬ä½¿ç”¨pheåº“æ ‡å‡†çš„paillierå®ç°ï¼ŒåŠ è§£å¯†é€Ÿåº¦å¿«äº†è®¸å¤š<br>åŸå› ï¼š</p>
<ul>
<li><ul>
<li><strong><code>gmpy2</code> çš„ä½¿ç”¨</strong>ï¼šæ‰‹åŠ¨å®ç°ä¸­ä½¿ç”¨ <code>gmpy2</code> æ¥å¤„ç†å¤§æ•´æ•°è¿ç®—ï¼Œè¿™ä¸ªåº“åœ¨æ€§èƒ½ä¸Šè¿œè¿œä¼˜äº Python çš„é»˜è®¤æ•´æ•°è¿ç®—ï¼Œå› ä¸ºå®ƒåº•å±‚ä½¿ç”¨äº† GMP åº“ï¼ˆä¸€ä¸ªé«˜æ€§èƒ½çš„å¤šç²¾åº¦ç®—æœ¯åº“ï¼‰ï¼Œä¸“é—¨ç”¨äºå¤§æ•°è¿ç®—ã€‚è€Œ <code>phe</code> åº“é€šå¸¸ä½¿ç”¨ Python åŸç”Ÿçš„å¤§æ•´æ•°å¯¹è±¡ï¼Œè¿ç®—æ•ˆç‡è¾ƒä½ã€‚</li>
</ul>
</li>
<li><p><strong>éšæœºæ•°ç”Ÿæˆä¼˜åŒ–</strong>ï¼šä½¿ç”¨ <code>random.SystemRandom()</code> æä¾›ç³»ç»Ÿçº§çš„éšæœºæ•°ç”Ÿæˆï¼Œç»“åˆ <code>gmpy2.next_prime()</code> æ¥è¿…é€Ÿæ‰¾åˆ°åˆé€‚çš„å¤§ç´ æ•°ï¼Œè¿™å‡å°‘äº†å†—ä½™è®¡ç®—ï¼Œæå‡äº†å¯†é’¥ç”Ÿæˆæ•ˆç‡ã€‚</p>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@staticmethod</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">_get_prime_over</span>(<span class="params">N</span>):</span><br><span class="line">    rand_func = random.SystemRandom()</span><br><span class="line">    r = gmpy2.mpz(rand_func.getrandbits(N))</span><br><span class="line">    r = gmpy2.bit_set(r, N - <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">int</span>(gmpy2.next_prime(r))</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div>
</li>
<li><p><code>gmpy2.powmod()</code> æ˜¯ç›´æ¥åœ¨æ•´æ•°å±‚é¢è¿›è¡Œå¿«é€Ÿå¹‚è¿ç®—å’Œå–æ¨¡æ“ä½œï¼Œè¿™åœ¨åŠ å¯†è¿‡ç¨‹ä¸­çš„è®¡ç®— <code>g^m % n^2</code> å’Œ <code>r^n % n^2</code> éå¸¸é«˜æ•ˆã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œ<code>phe</code> åº“çš„å®ç°å¯èƒ½ä¼šåŒ…å«é¢å¤–çš„ç±»å‹æ£€æŸ¥å’Œæ›´å¤æ‚çš„é€»è¾‘ï¼Œè¿™ä¼šå¢åŠ è®¡ç®—æ—¶é—´ã€‚</p>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">encrypt</span>(<span class="params">self, m</span>):</span><br><span class="line">    r = random.randint(<span class="number">1</span>, self.public_key.n - <span class="number">1</span>)</span><br><span class="line">    cipher_text = gmpy2.mod(</span><br><span class="line">        gmpy2.powmod(self.public_key.g, m, self.n_square) * gmpy2.powmod(r, self.public_key.n, self.n_square),</span><br><span class="line">        self.n_square)</span><br><span class="line">    cipher_text = CryptoNumber(cipher_text, self.n_square)</span><br><span class="line">    <span class="keyword">return</span> cipher_text</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div></li>
</ul>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> time  </span><br><span class="line"><span class="keyword">import</span> tenseal <span class="keyword">as</span> ts  </span><br><span class="line"><span class="keyword">import</span> random  </span><br><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> namedtuple  </span><br><span class="line"><span class="keyword">import</span> gmpy2  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># ======================= Paillier å¯†é’¥ç”Ÿæˆ =======================class PaillierKeyGenerator:  </span></span><br><span class="line"><span class="meta">    @staticmethod  </span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_get_prime_over</span>(<span class="params">N</span>):  </span><br><span class="line">        rand_func = random.SystemRandom()  </span><br><span class="line">        r = gmpy2.mpz(rand_func.getrandbits(N))  </span><br><span class="line">        r = gmpy2.bit_set(r, N - <span class="number">1</span>)  </span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">int</span>(gmpy2.next_prime(r))  </span><br><span class="line">  </span><br><span class="line"><span class="meta">    @staticmethod  </span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_generate_p_q</span>(<span class="params">key_size</span>):  </span><br><span class="line">        p = q = <span class="literal">None</span>  </span><br><span class="line">        n_len = <span class="number">0</span>  </span><br><span class="line">        <span class="keyword">while</span> n_len != key_size:  </span><br><span class="line">            p = PaillierKeyGenerator._get_prime_over(key_size // <span class="number">2</span>)  </span><br><span class="line">            q = p  </span><br><span class="line">            <span class="keyword">while</span> q == p:  </span><br><span class="line">                q = PaillierKeyGenerator._get_prime_over(key_size // <span class="number">2</span>)  </span><br><span class="line">            n = p * q  </span><br><span class="line">            n_len = n.bit_length()  </span><br><span class="line">        <span class="keyword">return</span> p, q  </span><br><span class="line">  </span><br><span class="line"><span class="meta">    @staticmethod  </span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">generate_keypair</span>(<span class="params">key_size</span>):  </span><br><span class="line">        p, q = PaillierKeyGenerator._generate_p_q(key_size)  </span><br><span class="line">        n = p * q  </span><br><span class="line">        lam = gmpy2.lcm(p - <span class="number">1</span>, q - <span class="number">1</span>)  </span><br><span class="line">  </span><br><span class="line">        n_square = <span class="built_in">pow</span>(n, <span class="number">2</span>)  </span><br><span class="line">        g = n + random.randint(n, n_square - <span class="number">1</span>)  </span><br><span class="line">        fn_L = <span class="keyword">lambda</span> x, n: (x - <span class="number">1</span>) // n  </span><br><span class="line">        mu = gmpy2.invert(fn_L(gmpy2.powmod(g, lam, n_square), n), n)  </span><br><span class="line">        <span class="keyword">while</span> gmpy2.gcd(g, n_square) != <span class="number">1</span>:  </span><br><span class="line">            g = n + random.randint(n, n_square - <span class="number">1</span>)  </span><br><span class="line">        PublicKey = namedtuple(<span class="string">"PublicKey"</span>, <span class="string">"n g"</span>)  </span><br><span class="line">        PrivateKey = namedtuple(<span class="string">"PrivateKey"</span>, <span class="string">"public_key lam mu"</span>)  </span><br><span class="line">        public_key = PublicKey(n=n, g=g)  </span><br><span class="line">        private_key = PrivateKey(public_key=public_key, lam=lam, mu=mu)  </span><br><span class="line">        <span class="keyword">return</span> public_key, private_key  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># ======================= Paillier åŠ è§£å¯† =======================class Paillier:  </span></span><br><span class="line">    CIPHER_MODE_ENCRYPT = <span class="number">0</span>  </span><br><span class="line">    CIPHER_MODE_DECRYPT = <span class="number">1</span>  </span><br><span class="line">    cipher = <span class="literal">None</span>  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, cipher_mode, cipher_key</span>):  </span><br><span class="line">        <span class="keyword">if</span> cipher_mode == Paillier.CIPHER_MODE_ENCRYPT:  </span><br><span class="line">            self.public_key = cipher_key  </span><br><span class="line">            self.private_key = <span class="literal">None</span>  </span><br><span class="line">        <span class="keyword">elif</span> cipher_mode == Paillier.CIPHER_MODE_DECRYPT:  </span><br><span class="line">            self.public_key = cipher_key.public_key  </span><br><span class="line">            self.private_key = cipher_key  </span><br><span class="line">        <span class="keyword">else</span>:  </span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">'cipher_mode value must be either CIPHER_MODE_ENCRYPT or CIPHER_MODE_DECRYPT'</span>)  </span><br><span class="line">        self.cipher_mode = cipher_mode  </span><br><span class="line">        self.n_square = <span class="built_in">pow</span>(self.public_key.n, <span class="number">2</span>)  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">fn_L</span>(<span class="params">self, x</span>):  </span><br><span class="line">        <span class="keyword">return</span> (x - <span class="number">1</span>) // self.public_key.n  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">encrypt</span>(<span class="params">self, m</span>):  </span><br><span class="line">        r = random.randint(<span class="number">1</span>, self.public_key.n - <span class="number">1</span>)  </span><br><span class="line">        cipher_text = gmpy2.mod(  </span><br><span class="line">            gmpy2.powmod(self.public_key.g, m, self.n_square) * gmpy2.powmod(r, self.public_key.n, self.n_square),  </span><br><span class="line">            self.n_square)  </span><br><span class="line">        cipher_text = CryptoNumber(cipher_text, self.n_square)  </span><br><span class="line">        <span class="keyword">return</span> cipher_text  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">decrypt</span>(<span class="params">self, crypto_number</span>):  </span><br><span class="line">        numerator = self.fn_L(gmpy2.powmod(crypto_number.cipher_text, self.private_key.lam, self.n_square))  </span><br><span class="line">        numerator = gmpy2.mod(numerator * self.private_key.mu, self.public_key.n)  </span><br><span class="line">        <span class="keyword">return</span> numerator  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):  </span><br><span class="line">        <span class="keyword">return</span> Paillier.cipher  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># ======================= åŒæ€è¿ç®— =======================class CryptoNumber:  </span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, cipher_text, n_square</span>):  </span><br><span class="line">        self.cipher_text = cipher_text  </span><br><span class="line">        self.n_square = n_square  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__add__</span>(<span class="params">self, other</span>):  </span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(other, CryptoNumber):  </span><br><span class="line">            sum_ciphertext = gmpy2.mod(self.cipher_text * other.cipher_text, self.n_square)  </span><br><span class="line">            <span class="keyword">return</span> CryptoNumber(sum_ciphertext, self.n_square)  </span><br><span class="line">        <span class="keyword">else</span>:  </span><br><span class="line">            <span class="keyword">raise</span> TypeError(<span class="string">'Unsupported operand type(s) for +: "CryptoNumber" and "{}"'</span>.<span class="built_in">format</span>(<span class="built_in">type</span>(other)))  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__mul__</span>(<span class="params">self, other</span>):  </span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(other, CryptoNumber):  </span><br><span class="line">            <span class="keyword">raise</span> NotImplementedError(<span class="string">'Multiplication between two "CryptoNumber" instances is not supported'</span>)  </span><br><span class="line">        <span class="keyword">else</span>:  </span><br><span class="line">            mul_cipher_text = gmpy2.mod(<span class="built_in">pow</span>(self.cipher_text, other), self.n_square)  </span><br><span class="line">            <span class="keyword">return</span> CryptoNumber(mul_cipher_text, self.n_square)  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># ======================= ä¼˜åŒ–åçš„ Paillier åŠ æ³•åŒæ€åŠ è§£å¯† =======================def paillier_encryption_batch(values, public_key):  </span></span><br><span class="line">    paillier = Paillier(Paillier.CIPHER_MODE_ENCRYPT, public_key)  </span><br><span class="line">    <span class="comment"># æ‰¹é‡åŠ å¯†æ•°æ®  </span></span><br><span class="line">    encrypted_values = [paillier.encrypt(value) <span class="keyword">for</span> value <span class="keyword">in</span> values]  </span><br><span class="line">    <span class="keyword">return</span> encrypted_values  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">paillier_homomorphic_addition</span>(<span class="params">encrypted_values</span>):  </span><br><span class="line">    encrypted_sum = encrypted_values[<span class="number">0</span>]  </span><br><span class="line">    <span class="keyword">for</span> enc_value <span class="keyword">in</span> encrypted_values[<span class="number">1</span>:]:  </span><br><span class="line">        encrypted_sum += enc_value  <span class="comment"># åŒæ€åŠ æ³•  </span></span><br><span class="line">    <span class="keyword">return</span> encrypted_sum  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">paillier_decryption</span>(<span class="params">encrypted_value, private_key</span>):  </span><br><span class="line">    paillier = Paillier(Paillier.CIPHER_MODE_DECRYPT, private_key)  </span><br><span class="line">    <span class="comment"># è§£å¯†æ•°æ®  </span></span><br><span class="line">    decrypted_value = paillier.decrypt(encrypted_value)  </span><br><span class="line">    <span class="keyword">return</span> decrypted_value  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">paillier_test</span>(<span class="params">public_key, private_key</span>):  </span><br><span class="line">    <span class="comment"># æµ‹è¯•æ•°æ®  </span></span><br><span class="line">    values = [<span class="number">15</span>, <span class="number">20</span>]  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># è®¡æ—¶å¼€å§‹  </span></span><br><span class="line">    start_time = time.time()  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># åŠ å¯†æ•°æ®  </span></span><br><span class="line">    encrypted_values = paillier_encryption_batch(values, public_key)  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># åŒæ€åŠ æ³•  </span></span><br><span class="line">    encrypted_sum = paillier_homomorphic_addition(encrypted_values)  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># è§£å¯†ç»“æœ  </span></span><br><span class="line">    decrypted_sum = paillier_decryption(encrypted_sum, private_key)  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># è®¡æ—¶ç»“æŸ  </span></span><br><span class="line">    end_time = time.time()  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># è¾“å‡ºç»“æœ  </span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f"Paillier åŠ è§£å¯†æ—¶é—´: <span class="subst">{end_time - start_time}</span> ç§’"</span>)  </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f"Paillier è§£å¯†ç»“æœ: <span class="subst">{decrypted_sum}</span>"</span>)  </span><br><span class="line">    <span class="keyword">return</span> end_time - start_time  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># ======================= å…¨åŒæ€åŠ è§£å¯†ï¼ˆTenSEAL - CKKSï¼‰ =======================def full_homomorphic_encryption(value1, value2, context):  </span></span><br><span class="line">    <span class="comment"># åˆ›å»º CKKS å‘é‡å¹¶åŠ å¯†  </span></span><br><span class="line">    encrypted_value1 = ts.ckks_vector(context, [value1])  </span><br><span class="line">    encrypted_value2 = ts.ckks_vector(context, [value2])  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># åŒæ€åŠ æ³•  </span></span><br><span class="line">    encrypted_sum = encrypted_value1 + encrypted_value2  </span><br><span class="line">    <span class="keyword">return</span> encrypted_sum  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">full_homomorphic_decryption</span>(<span class="params">encrypted_value, secret_key</span>):  </span><br><span class="line">    <span class="comment"># è§£å¯†æ•°æ®  </span></span><br><span class="line">    decrypted_value = encrypted_value.decrypt(secret_key)  </span><br><span class="line">    <span class="keyword">return</span> decrypted_value[<span class="number">0</span>]  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">full_homomorphic_test</span>(<span class="params">context, secret_key</span>):  </span><br><span class="line">    <span class="comment"># æµ‹è¯•æ•°æ®  </span></span><br><span class="line">    value1, value2 = <span class="number">15</span>, <span class="number">20</span>  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># è®¡æ—¶å¼€å§‹  </span></span><br><span class="line">    start_time = time.time()  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># åŠ å¯†å’ŒåŒæ€åŠ æ³•  </span></span><br><span class="line">    encrypted_sum = full_homomorphic_encryption(value1, value2, context)  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># è§£å¯†ç»“æœ  </span></span><br><span class="line">    decrypted_sum = full_homomorphic_decryption(encrypted_sum, secret_key)  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># è®¡æ—¶ç»“æŸ  </span></span><br><span class="line">    end_time = time.time()  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># è¾“å‡ºç»“æœ  </span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f"å…¨åŒæ€åŠ è§£å¯†æ—¶é—´: <span class="subst">{end_time - start_time}</span> ç§’"</span>)  </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f"å…¨åŒæ€è§£å¯†ç»“æœ: <span class="subst">{decrypted_sum}</span>"</span>)  </span><br><span class="line">    <span class="keyword">return</span> end_time - start_time  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># ======================= ä¸»ç¨‹åºï¼šæ¯”è¾ƒ Paillier å’Œ TenSEAL çš„æ€§èƒ½ =======================if __name__ == "__main__":  </span></span><br><span class="line">    <span class="comment"># ===== Paillier å¯†é’¥ç”Ÿæˆï¼ˆä¸è®¡å…¥æ—¶é—´ï¼‰=====  </span></span><br><span class="line">    public_key, private_key = PaillierKeyGenerator.generate_keypair(<span class="number">1024</span>)  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># æ¯”è¾ƒåŠ æ³•åŒæ€åŠ è§£å¯†æ—¶é—´ï¼ˆPaillierï¼‰  </span></span><br><span class="line">    paillier_time = paillier_test(public_key, private_key)  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># ===== TenSEAL ä¸Šä¸‹æ–‡å’Œå¯†é’¥ç”Ÿæˆï¼ˆä¸è®¡å…¥æ—¶é—´ï¼‰=====  </span></span><br><span class="line">    context = ts.context(ts.SCHEME_TYPE.CKKS, poly_modulus_degree=<span class="number">8192</span>, coeff_mod_bit_sizes=[<span class="number">60</span>, <span class="number">40</span>, <span class="number">60</span>])  </span><br><span class="line">    context.global_scale = <span class="number">2</span>**<span class="number">40</span>  <span class="comment"># è®¾ç½® global scale    context.generate_galois_keys()  # ç”Ÿæˆ Galois å¯†é’¥  </span></span><br><span class="line">    secret_key = context.secret_key()  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># æ¯”è¾ƒå…¨åŒæ€åŠ è§£å¯†æ—¶é—´ï¼ˆTenSEALï¼‰  </span></span><br><span class="line">    full_homomorphic_time = full_homomorphic_test(context, secret_key)  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># è¾“å‡ºå¯¹æ¯”ç»“æœ  </span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f"\nå®éªŒç»“æœï¼š"</span>)  </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f"Paillier åŠ æ³•åŒæ€åŠ è§£å¯†æ—¶é—´: <span class="subst">{paillier_time}</span> ç§’"</span>)  </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f"å…¨åŒæ€åŠ è§£å¯†æ—¶é—´ (TenSEAL): <span class="subst">{full_homomorphic_time}</span> ç§’"</span>)</span><br></pre></td></tr></tbody></table></figure></div>
<p>![[./Pasted image 20241116144236.png|Pasted image 20241116144236]]</p>
<ul>
<li>åˆ†æ<ul>
<li>åŠ è§£å¯†æ—¶é—´<ul>
<li>åœ¨ä¸è®¡å…¥å¯†é’¥ç”Ÿæˆæ—¶é—´çš„æƒ…å†µä¸‹ï¼Œ<strong>Paillier åŠ è§£å¯†çš„æ—¶é—´æ˜¾è‘—å°äºå…¨åŒæ€åŠ å¯†ï¼ˆTenSEALï¼‰çš„åŠ è§£å¯†æ—¶é—´</strong>ã€‚</li>
</ul>
</li>
<li>è§£å¯†ç»“æœ<ul>
<li>åŠ æ³•åŒæ€è§£å¯†ç»“æœæ˜¯ç²¾ç¡®çš„ï¼Œè€Œå…¨åŒæ€çš„è§£å¯†ç»“æœä¸é¢„æœŸç»“æœå­˜åœ¨å¾®å°è¯¯å·®</li>
<li>åŸå› ï¼šTenSEAL ä½¿ç”¨çš„ <strong>CKKS</strong> åŒæ€åŠ å¯†æ–¹æ¡ˆæ˜¯ä¸€ç§è¿‘ä¼¼è®¡ç®—çš„ç®—æ³•ï¼Œä¸»è¦ç”¨äºå¤„ç†æµ®ç‚¹æ•°å’Œæœºå™¨å­¦ä¹ ä¸­çš„è®¡ç®—ã€‚ç”±äºCKKSçš„è®¾è®¡ç‰¹ç‚¹ï¼Œ<strong>åŒæ€è¿ç®—è¿‡ç¨‹ä¸­ä¼šå¼•å…¥å°‘é‡çš„è¯¯å·®</strong>ï¼Œå°¤å…¶æ˜¯åœ¨è¿›è¡Œä¹˜æ³•å’Œå¤æ‚è¿ç®—æ—¶ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè§£å¯†ç»“æœä¸æ˜¯ç²¾ç¡®çš„ <code>35</code>ï¼Œè€Œæ˜¯ä¸€ä¸ªéå¸¸æ¥è¿‘ <code>35</code> çš„æµ®ç‚¹æ•°ã€‚</li>
<li>å¦‚æœéœ€è¦åœ¨ TenSEAL ä¸­å¾—åˆ°æ›´ç²¾ç¡®çš„ç»“æœï¼Œå¯ä»¥å°è¯•è°ƒæ•´åŠ å¯†å‚æ•°ï¼Œä¾‹å¦‚å¢å¤§ <code>global_scale</code>ï¼Œä½†è¿™å¯èƒ½ä¼šå¢åŠ è®¡ç®—æ—¶é—´å’Œå†…å­˜å¼€é”€ã€‚</li>
</ul>
</li>
<li>æ ¹æ®åº”ç”¨éœ€æ±‚é€‰æ‹©åˆé€‚çš„åŠ å¯†æ–¹æ¡ˆã€‚Paillier é€‚ç”¨äºéœ€è¦ç²¾ç¡®è®¡ç®—çš„åœºæ™¯ï¼ŒCKKS æ›´é€‚åˆå¤„ç†æµ®ç‚¹æ•°å’Œéœ€è¦å¤§é‡åŒæ€è¿ç®—çš„æœºå™¨å­¦ä¹ ä»»åŠ¡ã€‚</li>
</ul>
</li>
</ul>
<p> <strong>å¢åŠ åŒæ€è¿ç®—çš„å¤æ‚åº¦</strong><br>åœ¨ TenSEAL ä¸­ï¼Œå¢åŠ æ›´å¤šçš„åŒæ€è¿ç®—ï¼ˆå¦‚åŒæ€ä¹˜æ³•ã€å¹³æ–¹ï¼‰å¯ä»¥å»¶é•¿åŠ è§£å¯†æ—¶é—´ã€‚</p>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">full_homomorphic_encryption</span>(<span class="params">value1, value2, context</span>):</span><br><span class="line">    <span class="comment"># åˆ›å»º CKKS å‘é‡å¹¶åŠ å¯†</span></span><br><span class="line">    encrypted_value1 = ts.ckks_vector(context, [value1])</span><br><span class="line">    encrypted_value2 = ts.ckks_vector(context, [value2])</span><br><span class="line">    <span class="comment"># åŒæ€åŠ æ³•</span></span><br><span class="line">    encrypted_sum = encrypted_value1 + encrypted_value2</span><br><span class="line">    <span class="comment"># å¢åŠ åŒæ€ä¹˜æ³•</span></span><br><span class="line">    encrypted_product = encrypted_sum * encrypted_value1</span><br><span class="line">    <span class="comment"># å¢åŠ åŒæ€å¹³æ–¹</span></span><br><span class="line">    encrypted_result = encrypted_product.square()</span><br><span class="line">    <span class="keyword">return</span> encrypted_result</span><br></pre></td></tr></tbody></table></figure></div>

<p>![[./Pasted image 20241117154800.png|Pasted image 20241117154800]]</p>
<hr>
<h4 id="2-2-å¯†æ–‡å¤§å°çš„æ¯”è¾ƒ"><a href="#2-2-å¯†æ–‡å¤§å°çš„æ¯”è¾ƒ" class="headerlink" title="2.2 å¯†æ–‡å¤§å°çš„æ¯”è¾ƒ"></a>2.2 å¯†æ–‡å¤§å°çš„æ¯”è¾ƒ</h4><h5 id="Paillierï¼ˆåŠ æ³•åŒæ€åŠ å¯†ï¼‰"><a href="#Paillierï¼ˆåŠ æ³•åŒæ€åŠ å¯†ï¼‰" class="headerlink" title="Paillierï¼ˆåŠ æ³•åŒæ€åŠ å¯†ï¼‰"></a><strong>Paillierï¼ˆåŠ æ³•åŒæ€åŠ å¯†ï¼‰</strong></h5><p>Paillier åŠ å¯†æ–¹æ¡ˆæ˜¯ä¸€ç§åŠ æ³•åŒæ€åŠ å¯†æ–¹æ¡ˆï¼Œæ”¯æŒåŠ æ³•æ“ä½œçš„åŒæ€è¿ç®—ã€‚å…¶å¯†æ–‡çš„å¤§å°ä¸»è¦ç”±æ¨¡æ•° nnn å’Œ n2n^2n2 çš„ä½é•¿åº¦å†³å®šã€‚</p>
<ul>
<li><strong>å¯†é’¥ç”Ÿæˆ</strong>ï¼šPaillier çš„å¯†é’¥ç”Ÿæˆä¾èµ–äºä¸¤ä¸ªå¤§ç´ æ•° p å’Œ qï¼Œè®¡ç®—å‡ºæ¨¡æ•° $n = p \times qå’Œ n^2$ï¼Œå…¶å¯†æ–‡çš„å¤§å°å¤§çº¦ä¸º$2 \times \text{bit length of } n$ï¼Œå³å¤§çº¦æ˜¯ $2 \times \text{key size in bits}$ã€‚</li>
<li><strong>å¯†æ–‡å¤§å°</strong>ï¼šé€šå¸¸ï¼ŒPaillier å¯†æ–‡çš„å¤§å°ä¸º 2048 ä½æˆ– 4096 ä½ï¼Œå…·ä½“å–å†³äºå¯†é’¥å¤§å°ã€‚å¯¹äº 1024 ä½çš„å¯†é’¥ï¼Œå¯†æ–‡çš„å¤§å°å¤§çº¦ä¸º 2048 ä½ã€‚<br>  <strong>è®¡ç®—å…¬å¼</strong>ï¼š$$<br>  \text{å¯†æ–‡å¤§å°} \approx 2 \times (\text{key size in bits})$$<br>  å¦‚æœä½¿ç”¨ 2048 ä½çš„å¯†é’¥ï¼Œå¯†æ–‡çš„å¤§å°å¤§çº¦æ˜¯ 4096 ä½ã€‚</li>
</ul>
<h5 id="å…¨åŒæ€åŠ å¯†ï¼ˆå¦‚-BFV-å’Œ-CKKSï¼‰"><a href="#å…¨åŒæ€åŠ å¯†ï¼ˆå¦‚-BFV-å’Œ-CKKSï¼‰" class="headerlink" title="å…¨åŒæ€åŠ å¯†ï¼ˆå¦‚ BFV å’Œ CKKSï¼‰"></a><strong>å…¨åŒæ€åŠ å¯†ï¼ˆå¦‚ BFV å’Œ CKKSï¼‰</strong></h5><h2 id="å…¨åŒæ€åŠ å¯†ï¼ˆFHEï¼‰å…è®¸å¯¹å¯†æ–‡è¿›è¡Œä»»æ„æ•°é‡çš„åŒæ€è¿ç®—ï¼ˆåŒ…æ‹¬åŠ æ³•ã€ä¹˜æ³•ç­‰ï¼‰ã€‚å…¸å‹çš„å…¨åŒæ€åŠ å¯†æ–¹æ¡ˆå¦‚-BFV-å’Œ-CKKSï¼Œå®ƒä»¬çš„å¯†æ–‡å¤§å°é€šå¸¸æ›´å¤§ï¼Œå› ä¸ºå®ƒä»¬æ”¯æŒæ›´å¤æ‚çš„æ“ä½œï¼Œå¹¶ä¸”æ¶‰åŠæ›´å¤šçš„åŠ å¯†å‚æ•°ã€‚-BFV-åŠ å¯†æ–¹æ¡ˆ-å¤šé¡¹å¼è¡¨ç¤ºï¼šBFV-ä½¿ç”¨å¤šé¡¹å¼ç¯è¿›è¡ŒåŠ å¯†ï¼Œå¯†æ–‡åŒ…å«å¤šé¡¹å¼çš„ç³»æ•°ã€‚æ¯ä¸ªç³»æ•°çš„å¤§å°é€šå¸¸æ˜¯ç”±ç³»æ•°æ¨¡æ•°å†³å®šçš„ã€‚-å¯†æ–‡å¤§å°ï¼šBFV-å¯†æ–‡çš„å¤§å°ç”±ä»¥ä¸‹å‡ ä¸ªå‚æ•°å†³å®šï¼š-1-å¤šé¡¹å¼åº¦æ•°ï¼šå¤šé¡¹å¼åº¦æ•°-N-å†³å®šäº†å¯†æ–‡ä¸­çš„å¤šé¡¹å¼çš„é•¿åº¦ã€‚-2-ç³»æ•°æ¨¡æ•°ï¼šç³»æ•°æ¨¡æ•°çš„ä½æ•°å†³å®šäº†æ¯ä¸ªç³»æ•°æ‰€éœ€çš„ä½æ•°ã€‚-å¯¹äº-BFVï¼Œå‡è®¾å¤šé¡¹å¼åº¦æ•°ä¸º-Nï¼Œæ¯ä¸ªç³»æ•°çš„æ¨¡æ•°å¤§å°ä¸ºBï¼Œåˆ™å¯†æ–‡çš„å¤§å°å¤§è‡´ä¸ºï¼š-text-å¯†æ–‡å¤§å°-approx-N-times-text-ä½æ•°-text-ç³»æ•°æ¨¡æ•°-æ¯”å¦‚ï¼Œé€‰æ‹©-N-x3D-8192ï¼Œæ¯ä¸ªç³»æ•°æ¨¡æ•°ä¸º-60-ä½ï¼Œåˆ™å¯†æ–‡å¤§å°å¤§çº¦æ˜¯-8192-times-60-ä½ï¼Œå³çº¦-491-520-ä½ã€‚-CKKS-åŠ å¯†æ–¹æ¡ˆ-å¤šé¡¹å¼è¡¨ç¤ºï¼šCKKS-æ˜¯ä¸€ç§ä¸“é—¨é’ˆå¯¹è¿‘ä¼¼åŒæ€åŠ å¯†è®¾è®¡çš„åŠ å¯†æ–¹æ¡ˆï¼Œæ”¯æŒæµ®ç‚¹æ•°çš„åŠ å¯†ã€‚ä¸-BFV-ç±»ä¼¼ï¼ŒCKKS-ä½¿ç”¨å¤šé¡¹å¼è¡¨ç¤ºï¼Œä½†å®ƒåœ¨åŠ å¯†æ—¶é‡‡ç”¨äº†è¿‘ä¼¼æŠ€æœ¯ã€‚-å¯†æ–‡å¤§å°ï¼šä¸-BFV-ç±»ä¼¼ï¼ŒCKKS-çš„å¯†æ–‡å¤§å°ä¹Ÿç”±å¤šé¡¹å¼åº¦æ•°å’Œç³»æ•°æ¨¡æ•°å¤§å°å†³å®šã€‚-å¯¹äº-CKKSï¼Œå‡è®¾å¤šé¡¹å¼åº¦æ•°ä¸º-NNNï¼Œç³»æ•°æ¨¡æ•°å¤§å°ä¸º-BBBï¼Œåˆ™å¯†æ–‡çš„å¤§å°å¤§è‡´ä¸ºï¼š-text-å¯†æ–‡å¤§å°-approx-N-times-text-ä½æ•°-text-ç³»æ•°æ¨¡æ•°-å¦‚æœé€‰æ‹©-N-x3D-8192ï¼Œæ¯ä¸ªç³»æ•°æ¨¡æ•°ä¸º-60-ä½ï¼Œåˆ™å¯†æ–‡å¤§å°å¤§çº¦æ˜¯-8192-times-60-ä½ï¼Œå³çº¦-491-520-ä½ã€‚"><a href="#å…¨åŒæ€åŠ å¯†ï¼ˆFHEï¼‰å…è®¸å¯¹å¯†æ–‡è¿›è¡Œä»»æ„æ•°é‡çš„åŒæ€è¿ç®—ï¼ˆåŒ…æ‹¬åŠ æ³•ã€ä¹˜æ³•ç­‰ï¼‰ã€‚å…¸å‹çš„å…¨åŒæ€åŠ å¯†æ–¹æ¡ˆå¦‚-BFV-å’Œ-CKKSï¼Œå®ƒä»¬çš„å¯†æ–‡å¤§å°é€šå¸¸æ›´å¤§ï¼Œå› ä¸ºå®ƒä»¬æ”¯æŒæ›´å¤æ‚çš„æ“ä½œï¼Œå¹¶ä¸”æ¶‰åŠæ›´å¤šçš„åŠ å¯†å‚æ•°ã€‚-BFV-åŠ å¯†æ–¹æ¡ˆ-å¤šé¡¹å¼è¡¨ç¤ºï¼šBFV-ä½¿ç”¨å¤šé¡¹å¼ç¯è¿›è¡ŒåŠ å¯†ï¼Œå¯†æ–‡åŒ…å«å¤šé¡¹å¼çš„ç³»æ•°ã€‚æ¯ä¸ªç³»æ•°çš„å¤§å°é€šå¸¸æ˜¯ç”±ç³»æ•°æ¨¡æ•°å†³å®šçš„ã€‚-å¯†æ–‡å¤§å°ï¼šBFV-å¯†æ–‡çš„å¤§å°ç”±ä»¥ä¸‹å‡ ä¸ªå‚æ•°å†³å®šï¼š-1-å¤šé¡¹å¼åº¦æ•°ï¼šå¤šé¡¹å¼åº¦æ•°-N-å†³å®šäº†å¯†æ–‡ä¸­çš„å¤šé¡¹å¼çš„é•¿åº¦ã€‚-2-ç³»æ•°æ¨¡æ•°ï¼šç³»æ•°æ¨¡æ•°çš„ä½æ•°å†³å®šäº†æ¯ä¸ªç³»æ•°æ‰€éœ€çš„ä½æ•°ã€‚-å¯¹äº-BFVï¼Œå‡è®¾å¤šé¡¹å¼åº¦æ•°ä¸º-Nï¼Œæ¯ä¸ªç³»æ•°çš„æ¨¡æ•°å¤§å°ä¸ºBï¼Œåˆ™å¯†æ–‡çš„å¤§å°å¤§è‡´ä¸ºï¼š-text-å¯†æ–‡å¤§å°-approx-N-times-text-ä½æ•°-text-ç³»æ•°æ¨¡æ•°-æ¯”å¦‚ï¼Œé€‰æ‹©-N-x3D-8192ï¼Œæ¯ä¸ªç³»æ•°æ¨¡æ•°ä¸º-60-ä½ï¼Œåˆ™å¯†æ–‡å¤§å°å¤§çº¦æ˜¯-8192-times-60-ä½ï¼Œå³çº¦-491-520-ä½ã€‚-CKKS-åŠ å¯†æ–¹æ¡ˆ-å¤šé¡¹å¼è¡¨ç¤ºï¼šCKKS-æ˜¯ä¸€ç§ä¸“é—¨é’ˆå¯¹è¿‘ä¼¼åŒæ€åŠ å¯†è®¾è®¡çš„åŠ å¯†æ–¹æ¡ˆï¼Œæ”¯æŒæµ®ç‚¹æ•°çš„åŠ å¯†ã€‚ä¸-BFV-ç±»ä¼¼ï¼ŒCKKS-ä½¿ç”¨å¤šé¡¹å¼è¡¨ç¤ºï¼Œä½†å®ƒåœ¨åŠ å¯†æ—¶é‡‡ç”¨äº†è¿‘ä¼¼æŠ€æœ¯ã€‚-å¯†æ–‡å¤§å°ï¼šä¸-BFV-ç±»ä¼¼ï¼ŒCKKS-çš„å¯†æ–‡å¤§å°ä¹Ÿç”±å¤šé¡¹å¼åº¦æ•°å’Œç³»æ•°æ¨¡æ•°å¤§å°å†³å®šã€‚-å¯¹äº-CKKSï¼Œå‡è®¾å¤šé¡¹å¼åº¦æ•°ä¸º-NNNï¼Œç³»æ•°æ¨¡æ•°å¤§å°ä¸º-BBBï¼Œåˆ™å¯†æ–‡çš„å¤§å°å¤§è‡´ä¸ºï¼š-text-å¯†æ–‡å¤§å°-approx-N-times-text-ä½æ•°-text-ç³»æ•°æ¨¡æ•°-å¦‚æœé€‰æ‹©-N-x3D-8192ï¼Œæ¯ä¸ªç³»æ•°æ¨¡æ•°ä¸º-60-ä½ï¼Œåˆ™å¯†æ–‡å¤§å°å¤§çº¦æ˜¯-8192-times-60-ä½ï¼Œå³çº¦-491-520-ä½ã€‚" class="headerlink" title="å…¨åŒæ€åŠ å¯†ï¼ˆFHEï¼‰å…è®¸å¯¹å¯†æ–‡è¿›è¡Œä»»æ„æ•°é‡çš„åŒæ€è¿ç®—ï¼ˆåŒ…æ‹¬åŠ æ³•ã€ä¹˜æ³•ç­‰ï¼‰ã€‚å…¸å‹çš„å…¨åŒæ€åŠ å¯†æ–¹æ¡ˆå¦‚ BFV å’Œ CKKSï¼Œå®ƒä»¬çš„å¯†æ–‡å¤§å°é€šå¸¸æ›´å¤§ï¼Œå› ä¸ºå®ƒä»¬æ”¯æŒæ›´å¤æ‚çš„æ“ä½œï¼Œå¹¶ä¸”æ¶‰åŠæ›´å¤šçš„åŠ å¯†å‚æ•°ã€‚###### BFV åŠ å¯†æ–¹æ¡ˆ- å¤šé¡¹å¼è¡¨ç¤ºï¼šBFV ä½¿ç”¨å¤šé¡¹å¼ç¯è¿›è¡ŒåŠ å¯†ï¼Œå¯†æ–‡åŒ…å«å¤šé¡¹å¼çš„ç³»æ•°ã€‚æ¯ä¸ªç³»æ•°çš„å¤§å°é€šå¸¸æ˜¯ç”±ç³»æ•°æ¨¡æ•°å†³å®šçš„ã€‚- å¯†æ–‡å¤§å°ï¼šBFV å¯†æ–‡çš„å¤§å°ç”±ä»¥ä¸‹å‡ ä¸ªå‚æ•°å†³å®šï¼š    1. å¤šé¡¹å¼åº¦æ•°ï¼šå¤šé¡¹å¼åº¦æ•° N å†³å®šäº†å¯†æ–‡ä¸­çš„å¤šé¡¹å¼çš„é•¿åº¦ã€‚    2. ç³»æ•°æ¨¡æ•°ï¼šç³»æ•°æ¨¡æ•°çš„ä½æ•°å†³å®šäº†æ¯ä¸ªç³»æ•°æ‰€éœ€çš„ä½æ•°ã€‚    å¯¹äº BFVï¼Œå‡è®¾å¤šé¡¹å¼åº¦æ•°ä¸º Nï¼Œæ¯ä¸ªç³»æ•°çš„æ¨¡æ•°å¤§å°ä¸ºBï¼Œåˆ™å¯†æ–‡çš„å¤§å°å¤§è‡´ä¸ºï¼š    $$\text{å¯†æ–‡å¤§å°} \approx N \times \text{ä½æ•°}(\text{ç³»æ•°æ¨¡æ•°})$$    æ¯”å¦‚ï¼Œé€‰æ‹© N = 8192ï¼Œæ¯ä¸ªç³»æ•°æ¨¡æ•°ä¸º 60 ä½ï¼Œåˆ™å¯†æ–‡å¤§å°å¤§çº¦æ˜¯ $8192 \times 60$ä½ï¼Œå³çº¦ 491,520 ä½ã€‚###### CKKS åŠ å¯†æ–¹æ¡ˆ- å¤šé¡¹å¼è¡¨ç¤ºï¼šCKKS æ˜¯ä¸€ç§ä¸“é—¨é’ˆå¯¹è¿‘ä¼¼åŒæ€åŠ å¯†è®¾è®¡çš„åŠ å¯†æ–¹æ¡ˆï¼Œæ”¯æŒæµ®ç‚¹æ•°çš„åŠ å¯†ã€‚ä¸ BFV ç±»ä¼¼ï¼ŒCKKS ä½¿ç”¨å¤šé¡¹å¼è¡¨ç¤ºï¼Œä½†å®ƒåœ¨åŠ å¯†æ—¶é‡‡ç”¨äº†è¿‘ä¼¼æŠ€æœ¯ã€‚- å¯†æ–‡å¤§å°ï¼šä¸ BFV ç±»ä¼¼ï¼ŒCKKS çš„å¯†æ–‡å¤§å°ä¹Ÿç”±å¤šé¡¹å¼åº¦æ•°å’Œç³»æ•°æ¨¡æ•°å¤§å°å†³å®šã€‚    å¯¹äº CKKSï¼Œå‡è®¾å¤šé¡¹å¼åº¦æ•°ä¸º NNNï¼Œç³»æ•°æ¨¡æ•°å¤§å°ä¸º BBBï¼Œåˆ™å¯†æ–‡çš„å¤§å°å¤§è‡´ä¸ºï¼š$$\text{å¯†æ–‡å¤§å°} \approx N \times \text{ä½æ•°}(\text{ç³»æ•°æ¨¡æ•°})$$    å¦‚æœé€‰æ‹© N = 8192ï¼Œæ¯ä¸ªç³»æ•°æ¨¡æ•°ä¸º 60 ä½ï¼Œåˆ™å¯†æ–‡å¤§å°å¤§çº¦æ˜¯ 8192 \times 60 ä½ï¼Œå³çº¦ 491,520 ä½ã€‚
    "></a>å…¨åŒæ€åŠ å¯†ï¼ˆFHEï¼‰å…è®¸å¯¹å¯†æ–‡è¿›è¡Œä»»æ„æ•°é‡çš„åŒæ€è¿ç®—ï¼ˆåŒ…æ‹¬åŠ æ³•ã€ä¹˜æ³•ç­‰ï¼‰ã€‚å…¸å‹çš„å…¨åŒæ€åŠ å¯†æ–¹æ¡ˆå¦‚ BFV å’Œ CKKSï¼Œå®ƒä»¬çš„å¯†æ–‡å¤§å°é€šå¸¸æ›´å¤§ï¼Œå› ä¸ºå®ƒä»¬æ”¯æŒæ›´å¤æ‚çš„æ“ä½œï¼Œå¹¶ä¸”æ¶‰åŠæ›´å¤šçš„åŠ å¯†å‚æ•°ã€‚<br>###### <strong>BFV åŠ å¯†æ–¹æ¡ˆ</strong><br>- <strong>å¤šé¡¹å¼è¡¨ç¤º</strong>ï¼šBFV ä½¿ç”¨å¤šé¡¹å¼ç¯è¿›è¡ŒåŠ å¯†ï¼Œå¯†æ–‡åŒ…å«å¤šé¡¹å¼çš„ç³»æ•°ã€‚æ¯ä¸ªç³»æ•°çš„å¤§å°é€šå¸¸æ˜¯ç”±ç³»æ•°æ¨¡æ•°å†³å®šçš„ã€‚<br>- <strong>å¯†æ–‡å¤§å°</strong>ï¼šBFV å¯†æ–‡çš„å¤§å°ç”±ä»¥ä¸‹å‡ ä¸ªå‚æ•°å†³å®šï¼š<br>    1. <strong>å¤šé¡¹å¼åº¦æ•°</strong>ï¼šå¤šé¡¹å¼åº¦æ•° N å†³å®šäº†å¯†æ–‡ä¸­çš„å¤šé¡¹å¼çš„é•¿åº¦ã€‚<br>    2. <strong>ç³»æ•°æ¨¡æ•°</strong>ï¼šç³»æ•°æ¨¡æ•°çš„ä½æ•°å†³å®šäº†æ¯ä¸ªç³»æ•°æ‰€éœ€çš„ä½æ•°ã€‚<br>    å¯¹äº BFVï¼Œå‡è®¾å¤šé¡¹å¼åº¦æ•°ä¸º Nï¼Œæ¯ä¸ªç³»æ•°çš„æ¨¡æ•°å¤§å°ä¸ºBï¼Œåˆ™å¯†æ–‡çš„å¤§å°å¤§è‡´ä¸ºï¼š<br>    $$\text{å¯†æ–‡å¤§å°} \approx N \times \text{ä½æ•°}(\text{ç³»æ•°æ¨¡æ•°})$$<br><br>    æ¯”å¦‚ï¼Œé€‰æ‹© N = 8192ï¼Œæ¯ä¸ªç³»æ•°æ¨¡æ•°ä¸º 60 ä½ï¼Œåˆ™å¯†æ–‡å¤§å°å¤§çº¦æ˜¯ $8192 \times 60$ä½ï¼Œå³çº¦ 491,520 ä½ã€‚<br>###### <strong>CKKS åŠ å¯†æ–¹æ¡ˆ</strong><br>- <strong>å¤šé¡¹å¼è¡¨ç¤º</strong>ï¼šCKKS æ˜¯ä¸€ç§ä¸“é—¨é’ˆå¯¹è¿‘ä¼¼åŒæ€åŠ å¯†è®¾è®¡çš„åŠ å¯†æ–¹æ¡ˆï¼Œæ”¯æŒæµ®ç‚¹æ•°çš„åŠ å¯†ã€‚ä¸ BFV ç±»ä¼¼ï¼ŒCKKS ä½¿ç”¨å¤šé¡¹å¼è¡¨ç¤ºï¼Œä½†å®ƒåœ¨åŠ å¯†æ—¶é‡‡ç”¨äº†è¿‘ä¼¼æŠ€æœ¯ã€‚<br><br>- <strong>å¯†æ–‡å¤§å°</strong>ï¼šä¸ BFV ç±»ä¼¼ï¼ŒCKKS çš„å¯†æ–‡å¤§å°ä¹Ÿç”±å¤šé¡¹å¼åº¦æ•°å’Œç³»æ•°æ¨¡æ•°å¤§å°å†³å®šã€‚<br><br>    å¯¹äº CKKSï¼Œå‡è®¾å¤šé¡¹å¼åº¦æ•°ä¸º NNNï¼Œç³»æ•°æ¨¡æ•°å¤§å°ä¸º BBBï¼Œåˆ™å¯†æ–‡çš„å¤§å°å¤§è‡´ä¸ºï¼š$$\text{å¯†æ–‡å¤§å°} \approx N \times \text{ä½æ•°}(\text{ç³»æ•°æ¨¡æ•°})$$<br>    å¦‚æœé€‰æ‹© N = 8192ï¼Œæ¯ä¸ªç³»æ•°æ¨¡æ•°ä¸º 60 ä½ï¼Œåˆ™å¯†æ–‡å¤§å°å¤§çº¦æ˜¯ 8192 \times 60 ä½ï¼Œå³çº¦ 491,520 ä½ã€‚
    </h2><table>
<thead>
<tr>
<th>åŠ å¯†æ–¹æ¡ˆ</th>
<th>å¯†æ–‡å¤§å°ï¼ˆå¯†é’¥å¤§å° 1024 ä½ï¼‰</th>
<th>ç‰¹ç‚¹</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Paillier</strong></td>
<td>2048 ä½ï¼ˆå¯†é’¥å¤§å° 1024 ä½ï¼‰</td>
<td>ä»…æ”¯æŒåŠ æ³•åŒæ€ï¼Œé€‚åˆç®€å•çš„åŠ æ³•è¿ç®—</td>
</tr>
<tr>
<td><strong>BFV</strong></td>
<td>491,520 ä½ï¼ˆ8192 å¤šé¡¹å¼åº¦æ•°ï¼Œ60 ä½ç³»æ•°æ¨¡æ•°ï¼‰</td>
<td>æ”¯æŒåŠ æ³•å’Œä¹˜æ³•åŒæ€ï¼Œè®¡ç®—å¤æ‚åº¦è¾ƒé«˜</td>
</tr>
<tr>
<td><strong>CKKS</strong></td>
<td>491,520 ä½ï¼ˆ8192 å¤šé¡¹å¼åº¦æ•°ï¼Œ60 ä½ç³»æ•°æ¨¡æ•°ï¼‰</td>
<td>æ”¯æŒåŠ æ³•å’Œä¹˜æ³•åŒæ€ï¼Œé€‚ç”¨äºè¿‘ä¼¼åŒæ€è®¡ç®—</td>
</tr>
</tbody></table>
<h5 id="ç»“è®ºï¼š"><a href="#ç»“è®ºï¼š" class="headerlink" title="ç»“è®ºï¼š"></a>ç»“è®ºï¼š</h5><ul>
<li><strong>Paillier</strong>ï¼šé€‚ç”¨äºåŠ æ³•åŒæ€ï¼Œå¯†æ–‡ç›¸å¯¹è¾ƒå°ï¼Œé€šå¸¸ä¸º 2048 ä½æˆ– 4096 ä½ï¼Œé€‚åˆå¤„ç†åŠ æ³•æ“ä½œï¼Œä½†ä¸æ”¯æŒä¹˜æ³•ã€‚</li>
<li><strong>BFV/CKKS</strong>ï¼šä½œä¸ºå…¨åŒæ€åŠ å¯†æ–¹æ¡ˆï¼Œå¯†æ–‡å¤§å°æ˜¾è‘—æ›´å¤§ï¼Œé€šå¸¸åœ¨å‡ ç™¾åƒä½ï¼Œé€‚åˆæ‰§è¡Œæ›´å¤æ‚çš„åŠ æ³•å’Œä¹˜æ³•åŒæ€æ“ä½œã€‚</li>
</ul>
<h5 id="å¯†æ–‡å¤§å°çš„å½±å“ï¼š"><a href="#å¯†æ–‡å¤§å°çš„å½±å“ï¼š" class="headerlink" title="å¯†æ–‡å¤§å°çš„å½±å“ï¼š"></a>å¯†æ–‡å¤§å°çš„å½±å“ï¼š</h5><ul>
<li><strong>Paillier</strong>ï¼šå› ä¸ºä»…æ”¯æŒåŠ æ³•åŒæ€ï¼Œå› æ­¤å¯†æ–‡è¾ƒå°ï¼Œé€‚ç”¨äºéšç§ä¿æŠ¤éœ€è¦è¾ƒå°‘è®¡ç®—é‡çš„åœºæ™¯ã€‚</li>
<li><strong>å…¨åŒæ€åŠ å¯†ï¼ˆå¦‚ BFVã€CKKSï¼‰</strong>ï¼šè™½ç„¶å¯†æ–‡æ›´å¤§ï¼Œä½†å®ƒä»¬å¯ä»¥æ‰§è¡Œæ›´åŠ å¤æ‚çš„åŒæ€æ“ä½œï¼ˆåŠ æ³•ã€ä¹˜æ³•ç­‰ï¼‰ï¼Œé€‚ç”¨äºéœ€è¦è¿›è¡Œå¤æ‚è®¡ç®—ï¼ˆå¦‚åŠ å¯†è®¡ç®—ã€éšç§ä¿æŠ¤æœºå™¨å­¦ä¹ ï¼‰çš„åœºæ™¯ã€‚</li>
</ul>
<hr>
<h4 id="2-3-é€‚ç”¨åœºæ™¯"><a href="#2-3-é€‚ç”¨åœºæ™¯" class="headerlink" title="2.3 é€‚ç”¨åœºæ™¯"></a>2.3 é€‚ç”¨åœºæ™¯</h4><h6 id="1-åŠ æ³•åŒæ€åŠ å¯†ï¼ˆAdditive-Homomorphic-Encryptionï¼‰"><a href="#1-åŠ æ³•åŒæ€åŠ å¯†ï¼ˆAdditive-Homomorphic-Encryptionï¼‰" class="headerlink" title="1. åŠ æ³•åŒæ€åŠ å¯†ï¼ˆAdditive Homomorphic Encryptionï¼‰"></a>1. <strong>åŠ æ³•åŒæ€åŠ å¯†ï¼ˆAdditive Homomorphic Encryptionï¼‰</strong></h6><p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li><strong>åŠ å¯†æ•°æ®çš„æ±‚å’Œä¸è®¡æ•°</strong>ï¼š<ul>
<li><strong>é‡‘èåˆ†æ</strong>ï¼šåœ¨å¤šä¸ªåŠ å¯†çš„äº¤æ˜“æ•°æ®ï¼ˆå¦‚è´¦æˆ·ä½™é¢ã€æ”¯ä»˜è®°å½•ï¼‰ä¸Šè¿›è¡ŒåŠ æ³•è¿ç®—ï¼Œå¾—åˆ°åŠ å¯†çš„æ€»é¢æˆ–æ€»è®¡æ•°ã€‚ä¾‹å¦‚ï¼Œå¤šä¸ªå…¬å¸æˆ–ä¸ªäººå¯ä»¥å°†è‡ªå·±çš„è´¢åŠ¡æ•°æ®åŠ å¯†åæäº¤ï¼Œè¿›è¡Œåˆå¹¶ã€æ±‡æ€»æˆ–ç»Ÿè®¡ï¼Œè€Œä¸ä¼šæš´éœ²å…·ä½“çš„è´¢åŠ¡æ•°æ®ã€‚</li>
<li><strong>ç”µå­æŠ•ç¥¨</strong>ï¼šç”µå­æŠ•ç¥¨ç³»ç»Ÿå¯ä»¥ä½¿ç”¨åŠ æ³•åŒæ€åŠ å¯†æŠ€æœ¯æ¥å®ç°åŠ å¯†çš„æŠ•ç¥¨ç»Ÿè®¡ï¼Œç¡®ä¿æ¯ä¸ªæŠ•ç¥¨äººçš„éšç§ï¼ŒåŒæ—¶èƒ½å¤Ÿå¯¹æŠ•ç¥¨ç»“æœè¿›è¡Œåˆå¹¶å’Œç»Ÿè®¡ã€‚</li>
<li><strong>ç»Ÿè®¡åˆ†æ</strong>ï¼šè¿›è¡Œæ•°æ®æ±‡æ€»ã€åŠ æƒæ±‚å’Œç­‰æ“ä½œæ—¶ï¼Œé€‚åˆä½¿ç”¨åŠ æ³•åŒæ€åŠ å¯†ã€‚ä¾‹å¦‚ï¼Œæ”¿åºœã€é“¶è¡Œç­‰æœºæ„è¿›è¡ŒåŠ å¯†æ•°æ®çš„ç»Ÿè®¡åˆ†æï¼Œèƒ½å¤Ÿä¿æŒæ•°æ®çš„éšç§ã€‚</li>
<li><strong>åŒ»ç–—å¥åº·æ•°æ®åˆ†æ</strong>ï¼šå¤šä¸ªåŒ»é™¢æˆ–åŒ»ç–—æœºæ„å¯ä»¥ä½¿ç”¨åŠ æ³•åŒæ€åŠ å¯†åˆ†æä¸åŒæ‚£è€…çš„å¥åº·æ•°æ®ï¼Œè¿›è¡ŒåŠ å¯†æ±‡æ€»åˆ†æï¼Œè€Œä¸ä¼šæ³„éœ²æ‚£è€…çš„ä¸ªäººéšç§ã€‚</li>
</ul>
</li>
<li><strong>ç®€å•çš„åŠ æ³•è¿ç®—</strong>ï¼š<ul>
<li>åŠ æ³•åŒæ€åŠ å¯†é€‚ç”¨äºéœ€è¦å¯¹åŠ å¯†æ•°æ®è¿›è¡Œç®€å•çš„åŠ æ³•æ“ä½œçš„åœºæ™¯ã€‚ä¾‹å¦‚ï¼Œåœ¨å¤šä¸ªåŠ å¯†æ•°æ®çš„åŠ æ€»æˆ–åŠ æƒæ±‚å’Œä¸­éå¸¸é«˜æ•ˆã€‚<br> <strong>ä¼˜åŠ¿ï¼š</strong></li>
</ul>
</li>
<li><strong>è®¡ç®—æ•ˆç‡è¾ƒé«˜</strong>ï¼šç›¸å¯¹äºå…¨åŒæ€åŠ å¯†ï¼ŒåŠ æ³•åŒæ€åŠ å¯†çš„è®¡ç®—å¤æ‚åº¦è¾ƒä½ï¼Œå°¤å…¶åœ¨è¿›è¡Œç®€å•çš„åŠ æ³•è¿ç®—æ—¶ï¼Œæ€§èƒ½è¾ƒå¥½ã€‚</li>
<li><strong>å¹¿æ³›åº”ç”¨äºç»Ÿè®¡å’Œæ±‡æ€»åœºæ™¯</strong>ï¼šé€‚ç”¨äºå„ç§æ¶‰åŠåˆå¹¶ã€åŠ æ€»ã€è®¡æ•°ç­‰ç®€å•åŠ æ³•è¿ç®—çš„ä»»åŠ¡ã€‚<br> <strong>å±€é™æ€§ï¼š</strong></li>
<li><strong>åŠŸèƒ½æœ‰é™</strong>ï¼šä»…æ”¯æŒåŠ æ³•æ“ä½œï¼Œæ— æ³•æ‰§è¡Œä¹˜æ³•ã€æ¯”è¾ƒç­‰å…¶ä»–å¤æ‚è¿ç®—ã€‚å› æ­¤ï¼Œè‹¥ä»»åŠ¡æ¶‰åŠå¤æ‚çš„è¿ç®—ï¼Œæ— æ³•ä»…é€šè¿‡åŠ æ³•åŒæ€åŠ å¯†å®Œæˆã€‚</li>
</ul>
<h6 id="2-å…¨åŒæ€åŠ å¯†ï¼ˆFully-Homomorphic-Encryption-FHEï¼‰"><a href="#2-å…¨åŒæ€åŠ å¯†ï¼ˆFully-Homomorphic-Encryption-FHEï¼‰" class="headerlink" title="2. å…¨åŒæ€åŠ å¯†ï¼ˆFully Homomorphic Encryption, FHEï¼‰"></a>2. <strong>å…¨åŒæ€åŠ å¯†ï¼ˆFully Homomorphic Encryption, FHEï¼‰</strong></h6><p> <strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p>
<ul>
<li><strong>å¤æ‚çš„åŠ æ³•å’Œä¹˜æ³•è¿ç®—</strong>ï¼š<ul>
<li><strong>å®‰å…¨è®¡ç®—ä¸è”åˆå­¦ä¹ </strong>ï¼šåœ¨å¤šä¸ªå‚ä¸æ–¹ä¹‹é—´è¿›è¡Œè”åˆæœºå™¨å­¦ä¹ ã€æ•°æ®åˆ†æç­‰ä»»åŠ¡æ—¶ï¼Œæ¯ä¸ªå‚ä¸æ–¹çš„æ•°æ®éœ€è¦ä¿æŒç§å¯†ã€‚å…¨åŒæ€åŠ å¯†å¯ä»¥æ”¯æŒå¯¹åŠ å¯†æ•°æ®è¿›è¡Œå¤æ‚çš„è¿ç®—ï¼ˆåŠ æ³•ã€ä¹˜æ³•ã€çŸ©é˜µè¿ç®—ç­‰ï¼‰ï¼Œä»è€Œå®ç°æ•°æ®å…±äº«ä¸éšç§ä¿æŠ¤çš„å¹³è¡¡ã€‚</li>
<li><strong>åŠ å¯†æ•°æ®åº“æŸ¥è¯¢</strong>ï¼šå…¨åŒæ€åŠ å¯†å¯ç”¨äºå¯¹åŠ å¯†æ•°æ®è¿›è¡Œå¤æ‚æŸ¥è¯¢ï¼Œä¾‹å¦‚åŠ å¯†çš„æ•°æ®åº“ä¸­è¿›è¡ŒåŠ æ³•ã€ä¹˜æ³•ã€èšåˆç­‰æ“ä½œï¼Œè¿”å›åŠ å¯†çš„æŸ¥è¯¢ç»“æœã€‚è¿™å¯¹äºåŠ å¯†æ•°æ®åº“çš„éšç§ä¿æŠ¤å’Œåˆè§„æ€§è¦æ±‚è‡³å…³é‡è¦ã€‚</li>
<li><strong>å®‰å…¨å¤šæ–¹è®¡ç®—</strong>ï¼šä¾‹å¦‚ï¼Œåœ¨å»ä¸­å¿ƒåŒ–çš„é‡‘èï¼ˆDeFiï¼‰ç³»ç»Ÿä¸­ï¼Œå¤šä¸ªç‹¬ç«‹çš„å‚ä¸æ–¹å¯ä»¥ç”¨å…¨åŒæ€åŠ å¯†åè®®æ‰§è¡Œè®¡ç®—ï¼ˆå¦‚èµ„äº§è®¡ç®—ã€é£é™©è¯„ä¼°ç­‰ï¼‰ï¼Œä¿è¯æ•°æ®éšç§çš„åŒæ—¶å®Œæˆå¤æ‚çš„è®¡ç®—ä»»åŠ¡ã€‚</li>
<li><strong>ç”Ÿç‰©ä¿¡æ¯å­¦ä¸åŸºå› æ•°æ®åˆ†æ</strong>ï¼šå…¨åŒæ€åŠ å¯†å¯ä»¥ä¿æŠ¤åŸºå› æ•°æ®çš„éšç§ï¼Œåœ¨åŠ å¯†çš„åŸºå› ç»„æ•°æ®ä¸Šè¿›è¡Œè®¡ç®—ï¼Œå¦‚åŸºå› æ¯”å¯¹ã€é—ä¼ ç®—æ³•ç­‰ï¼Œé¿å…æ•æ„Ÿæ•°æ®æ³„æ¼ã€‚</li>
</ul>
</li>
<li><strong>éšç§ä¿æŠ¤çš„æœºå™¨å­¦ä¹ ä¸äººå·¥æ™ºèƒ½</strong>ï¼š<ul>
<li>å…¨åŒæ€åŠ å¯†ä½¿å¾—æœºå™¨å­¦ä¹ å’ŒAIç®—æ³•èƒ½å¤Ÿåœ¨åŠ å¯†æ•°æ®ä¸Šç›´æ¥æ‰§è¡Œï¼Œä¸å¿…è§£å¯†æ•°æ®ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨åŠ å¯†æ•°æ®è®­ç»ƒæ¨¡å‹æˆ–åœ¨åŠ å¯†æ•°æ®ä¸Šåšæ¨ç†ï¼Œä¿è¯æ•°æ®éšç§åŒæ—¶è¿›è¡Œæ™ºèƒ½åˆ†æã€‚</li>
</ul>
</li>
<li><strong>åŠ å¯†æ•°æ®çš„å¤æ‚å¤„ç†</strong>ï¼š<ul>
<li><strong>æ™ºèƒ½åˆçº¦</strong>ï¼šåœ¨åŒºå—é“¾æ™ºèƒ½åˆçº¦ä¸­ï¼Œå…¨åŒæ€åŠ å¯†å¯ä»¥ä½¿å¾—åˆçº¦èƒ½å¤Ÿåœ¨åŠ å¯†çŠ¶æ€ä¸‹å¤„ç†æ›´å¤æ‚çš„é€»è¾‘ï¼Œä¾‹å¦‚åŠ å¯†çš„æ•°æ®è®¡ç®—ã€éªŒè¯ç­‰ä»»åŠ¡ã€‚<br><strong>ä¼˜åŠ¿ï¼š</strong></li>
</ul>
</li>
<li><strong>æ”¯æŒå¤æ‚è¿ç®—</strong>ï¼šå…¨åŒæ€åŠ å¯†ä¸ä»…æ”¯æŒåŠ æ³•ï¼Œè¿˜æ”¯æŒä¹˜æ³•åŠå…¶ä»–æ›´å¤æ‚çš„è¿ç®—ï¼Œéå¸¸é€‚åˆæ¶‰åŠå¤æ‚æ•°æ®å¤„ç†çš„åœºæ™¯ã€‚</li>
<li><strong>å¼ºéšç§ä¿æŠ¤</strong>ï¼šå¯ä»¥åœ¨å®Œå…¨ä¸æš´éœ²æ•°æ®çš„æƒ…å†µä¸‹æ‰§è¡Œå¤æ‚è®¡ç®—ï¼Œä¿éšœæ•°æ®çš„éšç§æ€§ã€‚<br> <strong>å±€é™æ€§ï¼š</strong></li>
<li><strong>è®¡ç®—å¼€é”€è¾ƒå¤§</strong>ï¼šå…¨åŒæ€åŠ å¯†çš„è®¡ç®—å’ŒåŠ å¯†å¯†æ–‡çš„å¤§å°ç›¸å¯¹è¾ƒå¤§ï¼Œå› æ­¤æ•ˆç‡è¾ƒä½ï¼Œä¸é€‚åˆå¤„ç†éå¸¸å¤§è§„æ¨¡çš„æ•°æ®æˆ–å®æ—¶æ€§è¦æ±‚è¾ƒé«˜çš„ä»»åŠ¡ã€‚</li>
<li><strong>å®ç°å¤æ‚</strong>ï¼šå…¨åŒæ€åŠ å¯†çš„å®ç°è¾ƒä¸ºå¤æ‚ï¼Œé€šå¸¸éœ€è¦ä¸“é—¨çš„ç¡¬ä»¶æˆ–ä¼˜åŒ–çš„è®¡ç®—ç¯å¢ƒæ¥æå‡æ€§èƒ½ã€‚</li>
</ul>
<hr>
<h3 id="2-4-åŠ æ³•åŒæ€åŠ å¯†-vs-å…¨åŒæ€åŠ å¯†ï¼šå¯¹æ¯”æ€»ç»“"><a href="#2-4-åŠ æ³•åŒæ€åŠ å¯†-vs-å…¨åŒæ€åŠ å¯†ï¼šå¯¹æ¯”æ€»ç»“" class="headerlink" title="2.4 åŠ æ³•åŒæ€åŠ å¯† vs å…¨åŒæ€åŠ å¯†ï¼šå¯¹æ¯”æ€»ç»“"></a>2.4 <strong>åŠ æ³•åŒæ€åŠ å¯† vs å…¨åŒæ€åŠ å¯†ï¼šå¯¹æ¯”æ€»ç»“</strong></h3><table>
<thead>
<tr>
<th>ç‰¹æ€§</th>
<th>åŠ æ³•åŒæ€åŠ å¯†</th>
<th>å…¨åŒæ€åŠ å¯†</th>
</tr>
</thead>
<tbody><tr>
<td><strong>æ”¯æŒè¿ç®—ç±»å‹</strong></td>
<td>ä»…æ”¯æŒåŠ æ³•æ“ä½œ</td>
<td>æ”¯æŒåŠ æ³•ã€ä¹˜æ³•ç­‰ä»»æ„è¿ç®—</td>
</tr>
<tr>
<td><strong>è®¡ç®—å¤æ‚åº¦</strong></td>
<td>è¾ƒä½ï¼Œè¿ç®—æ•ˆç‡è¾ƒé«˜</td>
<td>è¾ƒé«˜ï¼Œè¿ç®—æ•ˆç‡ä½</td>
</tr>
<tr>
<td><strong>é€‚ç”¨åœºæ™¯</strong></td>
<td>æ•°æ®æ±‡æ€»ã€ç»Ÿè®¡ã€åŠ æƒæ±‚å’Œã€è®¡æ•°ç­‰ç®€å•åŠ æ³•è¿ç®—</td>
<td>å®‰å…¨è®¡ç®—ã€æœºå™¨å­¦ä¹ ã€å¤æ‚æŸ¥è¯¢ã€åŠ å¯†æ•°æ®åº“ç­‰å¤æ‚è¿ç®—</td>
</tr>
<tr>
<td><strong>éšç§ä¿æŠ¤</strong></td>
<td>ä¿è¯æ•°æ®éšç§ï¼Œä½†åªé™äºåŠ æ³•è®¡ç®—</td>
<td>æ›´å¼ºçš„éšç§ä¿æŠ¤ï¼Œæ”¯æŒå¤æ‚çš„åŠ å¯†æ•°æ®å¤„ç†</td>
</tr>
<tr>
<td><strong>å¯†æ–‡å¤§å°</strong></td>
<td>ç›¸å¯¹è¾ƒå°</td>
<td>ç›¸å¯¹è¾ƒå¤§</td>
</tr>
<tr>
<td><strong>è®¡ç®—èƒ½åŠ›</strong></td>
<td>é«˜æ•ˆä¸”é€‚åˆç®€å•ä»»åŠ¡</td>
<td>é€‚åˆå¤æ‚ä»»åŠ¡ï¼Œä½†å¼€é”€è¾ƒå¤§</td>
</tr>
<tr>
<td><strong>æŠ€æœ¯å¤æ‚åº¦</strong></td>
<td>å®ç°è¾ƒç®€å•</td>
<td>å®ç°å¤æ‚ï¼Œé€šå¸¸éœ€è¦ç‰¹æ®Šä¼˜åŒ–</td>
</tr>
</tbody></table>
<h2 id="3-åŸºäºå®‰å…¨ç­‰çº§çš„å¯†é’¥é•¿åº¦é€‰å–æ–¹æ³•"><a href="#3-åŸºäºå®‰å…¨ç­‰çº§çš„å¯†é’¥é•¿åº¦é€‰å–æ–¹æ³•" class="headerlink" title="3.åŸºäºå®‰å…¨ç­‰çº§çš„å¯†é’¥é•¿åº¦é€‰å–æ–¹æ³•"></a>3.åŸºäºå®‰å…¨ç­‰çº§çš„å¯†é’¥é•¿åº¦é€‰å–æ–¹æ³•</h2><h3 id="3-1-PaillieråŠ å¯†çš„å¯†é’¥é•¿åº¦é€‰å–"><a href="#3-1-PaillieråŠ å¯†çš„å¯†é’¥é•¿åº¦é€‰å–" class="headerlink" title="3.1 PaillieråŠ å¯†çš„å¯†é’¥é•¿åº¦é€‰å–"></a>3.1 <strong>PaillieråŠ å¯†çš„å¯†é’¥é•¿åº¦é€‰å–</strong></h3><p>Paillier åŠ å¯†æ˜¯ä¸€ç§åŠ æ³•åŒæ€åŠ å¯†æ–¹æ¡ˆï¼Œå…¶å®‰å…¨æ€§é€šå¸¸åŸºäºå¤§æ•°åˆ†è§£çš„å›°éš¾æ€§ï¼ˆç‰¹åˆ«æ˜¯æ•´æ•°åˆ†è§£é—®é¢˜ï¼‰ã€‚</p>
<h4 id="PaillieråŠ å¯†çš„å®‰å…¨æ€§åˆ†æ"><a href="#PaillieråŠ å¯†çš„å®‰å…¨æ€§åˆ†æ" class="headerlink" title="PaillieråŠ å¯†çš„å®‰å…¨æ€§åˆ†æ"></a><strong>PaillieråŠ å¯†çš„å®‰å…¨æ€§åˆ†æ</strong></h4><ul>
<li>Paillier åŠ å¯†çš„å®‰å…¨æ€§ä¸»è¦ä¾èµ–äºç”Ÿæˆçš„ä¸¤ä¸ªå¤§ç´ æ•°çš„ä¿å¯†æ€§ã€‚</li>
<li>å¯†é’¥é•¿åº¦çš„é€‰æ‹©é€šå¸¸åŸºäºç›®æ ‡çš„å®‰å…¨ç­‰çº§ï¼ˆä¾‹å¦‚ 128 ä½ã€192 ä½æˆ– 256 ä½çš„å®‰å…¨æ€§ï¼‰ã€‚</li>
</ul>
<h4 id="å¯†é’¥é•¿åº¦çš„é€‰å–æ–¹æ³•"><a href="#å¯†é’¥é•¿åº¦çš„é€‰å–æ–¹æ³•" class="headerlink" title="å¯†é’¥é•¿åº¦çš„é€‰å–æ–¹æ³•"></a><strong>å¯†é’¥é•¿åº¦çš„é€‰å–æ–¹æ³•</strong></h4><p>PaillieråŠ å¯†çš„å¯†é’¥é•¿åº¦é€šå¸¸æ˜¯é€šè¿‡ä¸¤ä¸ª <strong>ç´ æ•°</strong>ï¼ˆ<code>p</code> å’Œ <code>q</code>ï¼‰çš„ä½æ•°æ¥ç¡®å®šçš„ã€‚å¯†é’¥çš„å¤§å°å¤§è‡´ç­‰äºä¸¤ä¸ªç´ æ•°çš„ä¹˜ç§¯ <code>n = p * q</code> çš„ä½æ•°<br><strong>128ä½å®‰å…¨æ€§ï¼š</strong><br>å¯¹äº <strong>128ä½å®‰å…¨æ€§</strong>ï¼Œé€‰æ‹© <strong>1024ä½</strong>çš„å¯†é’¥é•¿åº¦æ˜¯å¸¸è§çš„åšæ³•ã€‚è¿™æ„å‘³ç€é€‰æ‹©ä¸¤ä¸ª <strong>512ä½</strong>çš„å¤§ç´ æ•° <code>p</code> å’Œ <code>q</code> æ¥ç”Ÿæˆå¯†é’¥ã€‚è¿™ä¸ªé•¿åº¦é€‚åˆä¸€èˆ¬çš„å•†ä¸šåº”ç”¨ï¼Œå¦‚åœ¨çº¿æ”¯ä»˜ã€æ•°æ®åŠ å¯†ç­‰ã€‚<br><strong>192ä½å®‰å…¨æ€§ï¼š</strong><br>å¦‚æœä½ éœ€è¦æ›´é«˜çš„å®‰å…¨æ€§ï¼Œå¯ä»¥é€‰æ‹© <strong>1536ä½</strong>çš„å¯†é’¥é•¿åº¦ï¼Œæ„å‘³ç€æ¯ä¸ªç´ æ•°çš„ä½æ•°å¤§çº¦æ˜¯ <strong>768ä½</strong>ã€‚è¿™ä¸ªé•¿åº¦é€‚ç”¨äºå¯¹å®‰å…¨æ€§è¦æ±‚æ›´é«˜çš„åœºåˆï¼Œå¦‚é‡‘èäº¤æ˜“ã€æœºå¯†æ•°æ®å¤„ç†ç­‰ã€‚<br><strong>256ä½å®‰å…¨æ€§ï¼š</strong><br>å¯¹äº <strong>256ä½å®‰å…¨æ€§</strong>ï¼Œå¯ä»¥é€‰æ‹© <strong>2048ä½</strong>çš„å¯†é’¥é•¿åº¦ï¼Œå³æ¯ä¸ªç´ æ•°çš„ä½æ•°æ˜¯ <strong>1024ä½</strong>ã€‚è¿™ä¸ªé•¿åº¦é€‚ç”¨äºé«˜å®‰å…¨éœ€æ±‚çš„ç¯å¢ƒï¼Œå¦‚å›½å®¶å®‰å…¨ã€å†›äº‹æ•°æ®ä¿æŠ¤ç­‰ã€‚</p>
<h3 id="3-2-å…¨åŒæ€åŠ å¯†ï¼ˆFHEï¼‰åŸºäºBFVã€CKKSçš„å¯†é’¥é•¿åº¦é€‰å–"><a href="#3-2-å…¨åŒæ€åŠ å¯†ï¼ˆFHEï¼‰åŸºäºBFVã€CKKSçš„å¯†é’¥é•¿åº¦é€‰å–" class="headerlink" title="3.2 å…¨åŒæ€åŠ å¯†ï¼ˆFHEï¼‰åŸºäºBFVã€CKKSçš„å¯†é’¥é•¿åº¦é€‰å–"></a>3.2 <strong>å…¨åŒæ€åŠ å¯†ï¼ˆFHEï¼‰åŸºäºBFVã€CKKSçš„å¯†é’¥é•¿åº¦é€‰å–</strong></h3><p>å…¨åŒæ€åŠ å¯†ï¼ˆFHEï¼‰æ–¹æ¡ˆï¼Œå¦‚ <strong>BFV</strong>ï¼ˆBrakerski/Fan-Vikuntanathanï¼‰å’Œ <strong>CKKS</strong>ï¼ˆCheon-Kim-Kim-Songï¼‰ï¼Œå®ƒä»¬çš„å®‰å…¨æ€§ä¾èµ–äºâ€œå­¦ä¹ ä¸è¯¯å·®â€ï¼ˆLWEï¼‰å‡è®¾æˆ–å…¶ä»–æ•°å­¦éš¾é¢˜ã€‚FHEæ–¹æ¡ˆçš„å®‰å…¨æ€§é€šå¸¸é€šè¿‡å¯†é’¥å’Œå‚æ•°çš„å¤§å°æ¥ä¿è¯ã€‚</p>
<h4 id="å¯†é’¥é•¿åº¦é€‰æ‹©çš„å½±å“å› ç´ "><a href="#å¯†é’¥é•¿åº¦é€‰æ‹©çš„å½±å“å› ç´ " class="headerlink" title="å¯†é’¥é•¿åº¦é€‰æ‹©çš„å½±å“å› ç´ "></a><strong>å¯†é’¥é•¿åº¦é€‰æ‹©çš„å½±å“å› ç´ </strong></h4><ul>
<li><strong>å¤šé¡¹å¼åº¦æ•°ï¼ˆPoly Modulus Degreeï¼‰</strong>ï¼š<ul>
<li>å¤šé¡¹å¼åº¦æ•°é€šå¸¸ä»¥2çš„å¹‚æ¬¡æ–¹è¡¨ç¤ºã€‚å¸¸è§çš„åº¦æ•°æœ‰ 1024, 2048, 4096, 8192 ç­‰</li>
<li>è¿™å†³å®šäº†å¯†æ–‡çš„å¤§å°ï¼Œåº¦æ•°è¶Šå¤§ï¼Œå¯†æ–‡è¶Šå¤§ï¼Œè®¡ç®—èƒ½åŠ›è¦æ±‚è¶Šé«˜ã€‚é€šå¸¸ï¼Œé€‰æ‹©æ›´é«˜çš„åº¦æ•°ä»¥æé«˜å®‰å…¨æ€§ï¼Œä½†ä¹Ÿä¼šå¸¦æ¥æ›´é«˜çš„è®¡ç®—æˆæœ¬ã€‚</li>
<li>å¤šé¡¹å¼åº¦æ•°ä¹Ÿä¸åŒæ€æ“ä½œçš„æ•ˆç‡ç›¸å…³ã€‚å¤šé¡¹å¼åº¦æ•°è¶Šå¤§ï¼Œæ”¯æŒçš„åŒæ€æ“ä½œï¼ˆå¦‚åŠ æ³•ã€ä¹˜æ³•ç­‰ï¼‰å°±è¶Šå¤šï¼Œä½†è®¡ç®—å¤æ‚åº¦å’Œå­˜å‚¨éœ€æ±‚ä¹Ÿä¼šå¢åŠ ã€‚</li>
<li>å†³å®šäº†å¤šé¡¹å¼çš„é•¿åº¦ï¼Œå³å‚ä¸è®¡ç®—çš„ç³»æ•°çš„æ•°é‡ã€‚</li>
</ul>
</li>
<li><strong>ç³»æ•°æ¨¡æ•°ï¼ˆCoeff Mod Bit Sizesï¼‰</strong>ï¼š<ul>
<li>å¸¸è§çš„ä½æ•°æœ‰ 60 ä½ã€40 ä½ã€20 ä½ç­‰</li>
<li>è¿™æ˜¯æŒ‡æ¯ä¸ªåŠ å¯†æ•°çš„å¤§å°ï¼Œä½æ•°è¶Šé«˜ï¼Œè¡¨ç¤ºæ¯ä¸ªæ•°å¯ä»¥å­˜å‚¨æ›´å¤§çš„å€¼ï¼Œå› æ­¤ä¹Ÿæé«˜äº†å®‰å…¨æ€§ã€‚</li>
<li>ç³»æ•°æ¨¡æ•°å½±å“åŠ å¯†è¿‡ç¨‹ä¸­æ•°å€¼çš„â€œå™ªå£°â€æ°´å¹³ã€‚å™ªå£°è¿‡å¤§å¯èƒ½ä¼šå¯¼è‡´è§£å¯†é”™è¯¯ï¼Œå› æ­¤ç³»æ•°æ¨¡æ•°çš„é€‰æ‹©å¿…é¡»å¹³è¡¡å®‰å…¨æ€§å’Œå™ªå£°ç®¡ç†ã€‚</li>
<li>å†³å®šäº†æ¯ä¸ªå¤šé¡¹å¼ç³»æ•°çš„å¤§å°å’ŒèŒƒå›´ï¼Œé€šå¸¸éœ€è¦å¤§äºå¤šé¡¹å¼çš„å¤§å°ã€‚</li>
</ul>
</li>
</ul>
<h4 id="BFVåŠ å¯†çš„å¯†é’¥é•¿åº¦é€‰å–"><a href="#BFVåŠ å¯†çš„å¯†é’¥é•¿åº¦é€‰å–" class="headerlink" title="BFVåŠ å¯†çš„å¯†é’¥é•¿åº¦é€‰å–"></a><strong>BFVåŠ å¯†çš„å¯†é’¥é•¿åº¦é€‰å–</strong></h4><p>BFV åŠ å¯†æ–¹æ¡ˆå¹¿æ³›åº”ç”¨äºåŠ å¯†è®¡ç®—å’ŒåŒæ€è¿ç®—ã€‚BFV çš„å®‰å…¨æ€§ä¾èµ–äº <strong>å¤§æ•´æ•°çš„åˆ†è§£é—®é¢˜</strong> å’Œ <strong>å™ªå£°çš„ç§¯ç´¯</strong>ã€‚</p>
<ul>
<li><strong>åŠ å¯†å®‰å…¨æ€§</strong>ï¼šé€‰æ‹© BFV æ—¶ï¼Œå¯†é’¥å¤§å°å’Œå¤šé¡¹å¼çš„åº¦æ•°å†³å®šäº†å®‰å…¨æ€§ç­‰çº§ã€‚</li>
<li><strong>å¯†é’¥é•¿åº¦ä¸å®‰å…¨ç­‰çº§</strong>ï¼š<ul>
<li><strong>128 ä½å®‰å…¨æ€§</strong>ï¼šæ¨èä½¿ç”¨ 2048 ä½æˆ– 3072 ä½çš„å…¬é’¥å’Œå¯†é’¥é•¿åº¦ã€‚</li>
<li><strong>192 ä½å®‰å…¨æ€§</strong>ï¼šé€šå¸¸é€‰æ‹© 4096 ä½æˆ–æ›´é•¿çš„å¯†é’¥ã€‚</li>
<li><strong>256 ä½å®‰å…¨æ€§</strong>ï¼šä½¿ç”¨æ›´é•¿çš„å¯†é’¥ï¼ˆå¦‚ 8192 ä½åŠä»¥ä¸Šï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h4 id="CKKSåŠ å¯†çš„å¯†é’¥é•¿åº¦é€‰å–"><a href="#CKKSåŠ å¯†çš„å¯†é’¥é•¿åº¦é€‰å–" class="headerlink" title="CKKSåŠ å¯†çš„å¯†é’¥é•¿åº¦é€‰å–"></a><strong>CKKSåŠ å¯†çš„å¯†é’¥é•¿åº¦é€‰å–</strong></h4><p>CKKS æ˜¯é’ˆå¯¹<strong>è¿‘ä¼¼åŒæ€åŠ å¯†</strong>ï¼ˆApproximate Homomorphic Encryption, AHEï¼‰çš„ä¸€ç§æ–¹æ¡ˆï¼Œç‰¹åˆ«é€‚ç”¨äºè¿ç»­æ•°æ®å¦‚æµ®ç‚¹æ•°åŠ å¯†ã€‚å®ƒåŸºäº <strong>LWE</strong>ï¼ˆå­¦ä¹ å¸¦è¯¯å·®ï¼‰å‡è®¾ã€‚</p>
<ul>
<li><strong>åŠ å¯†å®‰å…¨æ€§</strong>ï¼šCKKS åŠ å¯†çš„å®‰å…¨æ€§åŒæ ·ä¾èµ–äºå¤šé¡¹å¼çš„åº¦æ•°å’Œç³»æ•°æ¨¡æ•°ã€‚CKKS çš„å¯†é’¥é€‰æ‹©é€šå¸¸ä¸ <strong>poly_modulus_degree</strong>ï¼ˆå¤šé¡¹å¼åº¦æ•°ï¼‰å’Œ <strong>coeff_mod_bit_sizes</strong>ï¼ˆç³»æ•°æ¨¡æ•°ï¼‰ç›¸å…³ã€‚</li>
<li><strong>å¸¸è§çš„å‚æ•°é€‰æ‹©</strong>ï¼š<ul>
<li><strong>128 ä½å®‰å…¨æ€§</strong>ï¼šå¸¸è§çš„é€‰æ‹©æ˜¯ <strong>poly_modulus_degree = 8192</strong> å’Œ **coeff_mod_bit_sizes = [60, 40, 60]**ã€‚</li>
<li><strong>192 ä½å®‰å…¨æ€§</strong>ï¼šé€šå¸¸é€‰æ‹©æ›´å¤§çš„å¤šé¡¹å¼åº¦æ•°ï¼Œå¦‚ <strong>poly_modulus_degree = 16384</strong> å’Œ **coeff_mod_bit_sizes = [60, 40, 60]**ã€‚</li>
<li><strong>256 ä½å®‰å…¨æ€§</strong>ï¼šå¯èƒ½é€‰æ‹© <strong>poly_modulus_degree = 32768</strong> å’Œ **coeff_mod_bit_sizes = [60, 40, 60]**ã€‚</li>
</ul>
</li>
</ul>
<p>ä¸‹é¢æ˜¯ä¸€ä¸ªåŸºäºå®‰å…¨ç­‰çº§é€‰æ‹©å¯†é’¥é•¿åº¦çš„æ¨èæ–¹æ³•ï¼š</p>
<table>
<thead>
<tr>
<th>å®‰å…¨ç­‰çº§</th>
<th>å¤šé¡¹å¼åº¦æ•°ï¼ˆpoly_modulus_degreeï¼‰</th>
<th>ç³»æ•°æ¨¡æ•°ï¼ˆcoeff_mod_bit_sizesï¼‰</th>
</tr>
</thead>
<tbody><tr>
<td><strong>128ä½å®‰å…¨æ€§</strong></td>
<td>8192</td>
<td>[60, 40, 60]</td>
</tr>
<tr>
<td><strong>192ä½å®‰å…¨æ€§</strong></td>
<td>16384</td>
<td>[60, 50, 60]</td>
</tr>
<tr>
<td><strong>256ä½å®‰å…¨æ€§</strong></td>
<td>16384</td>
<td>[80, 60, 80]</td>
</tr>
</tbody></table>
<h2 id="4-ç»å…¸é—®é¢˜çš„ç¼–ç¨‹å®ç°"><a href="#4-ç»å…¸é—®é¢˜çš„ç¼–ç¨‹å®ç°" class="headerlink" title="4. ç»å…¸é—®é¢˜çš„ç¼–ç¨‹å®ç°"></a>4. ç»å…¸é—®é¢˜çš„ç¼–ç¨‹å®ç°</h2><div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tenseal <span class="keyword">as</span> ts</span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. åˆå§‹åŒ– TenSEAL ä¸Šä¸‹æ–‡</span></span><br><span class="line">context = ts.context(ts.SCHEME_TYPE.CKKS, poly_modulus_degree=<span class="number">8192</span>, coeff_mod_bit_sizes=[<span class="number">60</span>, <span class="number">40</span>, <span class="number">60</span>])</span><br><span class="line">context.generate_galois_keys()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. è®¾ç½® global_scale</span></span><br><span class="line">context.global_scale = <span class="number">2</span>**<span class="number">60</span>  <span class="comment"># è®¾ç½®è¾ƒå¤§çš„ global scaleï¼Œé€šå¸¸ä¸º 2 çš„è¾ƒå¤§æ¬¡å¹‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. æ¨¡æ‹Ÿä¸€äº›å·¥èµ„æ•°æ®</span></span><br><span class="line"><span class="comment"># å‡è®¾æœ‰5ä¸ªå‘˜å·¥çš„å·¥èµ„</span></span><br><span class="line">salaries = [<span class="number">5000</span>, <span class="number">5500</span>, <span class="number">6000</span>, <span class="number">6500</span>, <span class="number">7000</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. å¯¹å·¥èµ„æ•°æ®è¿›è¡ŒåŠ å¯†</span></span><br><span class="line"><span class="comment"># ä½¿ç”¨ TenSEAL çš„ ckks_vector è¿›è¡ŒåŠ å¯†</span></span><br><span class="line">encrypted_salaries = [ts.ckks_vector(context, [salary]) <span class="keyword">for</span> salary <span class="keyword">in</span> salaries]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5. è®¡ç®—åŠ å¯†å·¥èµ„çš„æ€»å’Œï¼ˆåŒæ€åŠ æ³•ï¼‰</span></span><br><span class="line">encrypted_sum = encrypted_salaries[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">for</span> encrypted_salary <span class="keyword">in</span> encrypted_salaries[<span class="number">1</span>:]:</span><br><span class="line">    encrypted_sum = encrypted_sum + encrypted_salary</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6. è®¡ç®—æ€»å’Œçš„å¹³å‡å·¥èµ„ï¼ˆè§£å¯†å¾—åˆ°ç»“æœï¼‰</span></span><br><span class="line"><span class="comment"># è®¡ç®—æ€»å’Œä¹‹åé™¤ä»¥å·¥èµ„æ•°é‡</span></span><br><span class="line">decrypted_sum = encrypted_sum.decrypt()</span><br><span class="line">decrypted_average = decrypted_sum[<span class="number">0</span>] / <span class="built_in">len</span>(salaries)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 7. è¾“å‡ºç»“æœ</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f"Encrypted total sum of salaries: <span class="subst">{decrypted_sum[<span class="number">0</span>]}</span>"</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f"Encrypted average salary: <span class="subst">{decrypted_average}</span>"</span>)</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure></div>

<p>![[./Pasted image 20241117212240.png|Pasted image 20241117212240]]</p>
]]></content>
      <categories>
        <category>å­¦ä¹ ç¬”è®°</category>
      </categories>
  </entry>
  <entry>
    <title>ç¬”è®°è¿ç§»åˆ°åšå®¢çš„å›¾ç‰‡é—®é¢˜æœ€ç»ˆè§£å†³æ–¹æ¡ˆ</title>
    <url>/2025/03/dfeeaecfbe86.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>å“ˆå“ˆå“ˆ<img lazyload="" src="/images/loading.svg" data-src="/../images/Pasted%20image%2020250308200727.png"><br>åˆ†ä¸¤ç§æƒ…å†µï¼š</p>
<ol>
<li>åœ¨å­¦ä¹ ä»“åº“é‡Œç¼–è¾‘çš„æ–‡ç« ï¼Œé€šè¿‡obçš„envelopeæ’ä»¶ä¼ åˆ°githubï¼Œç„¶åpullåæ‰§è¡Œè„šæœ¬ï¼Œè„šæœ¬å®ç°ç§»åŠ¨å›¾ç‰‡åŠ ä¿®æ”¹.mdä¸­å›¾ç‰‡å†…é“¾<ul>
<li>åœ¨å­¦ä¹ ä»“åº“é‡Œè¿˜æ˜¯<code>![[]]</code>æ ¼å¼,ä¸”é€‰æ‹©å†…éƒ¨é“¾æ¥ç±»å‹ä¸ºâ€œå°½å¯èƒ½ç®€çŸ­æ¨¡å¼â€ï¼Œ<img lazyload="" src="/images/loading.svg" data-src="/../images/Pasted%20image%2020250308210735.png">è¿™ä¸ªè¦å…³æ‰</li>
</ul>
</li>
</ol>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tbody><tr><td class="code"><pre><span class="line">	<span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> urllib.parse</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">move_images_and_update_links</span>(<span class="params">posts_dir, images_dir</span>):</span><br><span class="line"></span><br><span class="line"><span class="comment"># éå†_postsæ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰.mdæ–‡ä»¶</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> root, dirs, files <span class="keyword">in</span> os.walk(posts_dir):</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> files:</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> file.endswith(<span class="string">'.md'</span>):</span><br><span class="line"></span><br><span class="line">md_file_path = os.path.join(root, file)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f"æ­£åœ¨å¤„ç†æ–‡ä»¶: <span class="subst">{md_file_path}</span>"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥æ–‡ä»¶æƒé™ï¼Œç¡®ä¿å®ƒå¯å†™</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.access(md_file_path, os.W_OK):</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f"æ²¡æœ‰å†™æƒé™: <span class="subst">{md_file_path}</span>"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ‰“å¼€.mdæ–‡ä»¶å¹¶è¯»å–å†…å®¹</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(md_file_path, <span class="string">'r'</span>, encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:</span><br><span class="line"></span><br><span class="line">content = f.read()</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥æ‰¾.mdæ–‡ä»¶ä¸­æ‰€æœ‰çš„å›¾ç‰‡é“¾æ¥ï¼Œå¤„ç† ![[...|...]] æ ¼å¼</span></span><br><span class="line"></span><br><span class="line">new_content = content</span><br><span class="line"></span><br><span class="line">image_links = re.findall(<span class="string">r'!\[\[(.*?)\|.*?\]\]'</span>, content)</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> image_links:</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f"æœªæ‰¾åˆ°å›¾ç‰‡é“¾æ¥: <span class="subst">{md_file_path}</span>"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> image_link <span class="keyword">in</span> image_links:</span><br><span class="line"></span><br><span class="line"><span class="comment"># è§„èŒƒåŒ–è·¯å¾„ï¼Œå»æ‰ './' éƒ¨åˆ†</span></span><br><span class="line"></span><br><span class="line">image_link = os.path.normpath(image_link) <span class="comment"># å»æ‰ './' ç­‰æ— æ•ˆéƒ¨åˆ†</span></span><br><span class="line"></span><br><span class="line">image_name = os.path.basename(image_link)</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¡ç®—å›¾ç‰‡çš„æºè·¯å¾„</span></span><br><span class="line"></span><br><span class="line">source_image_path = os.path.join(root, image_name)</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœå›¾ç‰‡é“¾æ¥æ˜¯ç›¸å¯¹è·¯å¾„ï¼Œå°è¯•æ‹¼æ¥å®Œæ•´è·¯å¾„</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(source_image_path):</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¦‚æœå›¾ç‰‡åœ¨å­ç›®å½•ä¸­ï¼Œå°è¯•è°ƒæ•´è·¯å¾„</span></span><br><span class="line"></span><br><span class="line">source_image_path = os.path.join(posts_dir, image_link)</span><br><span class="line"></span><br><span class="line">destination_image_path = os.path.join(images_dir, image_name)</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f"æ£€æŸ¥å›¾ç‰‡è·¯å¾„: <span class="subst">{source_image_path}</span>"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥å›¾ç‰‡æ˜¯å¦å­˜åœ¨</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> os.path.exists(source_image_path):</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f"æ­£åœ¨ç§»åŠ¨å›¾ç‰‡: <span class="subst">{image_name}</span>"</span>)</span><br><span class="line"></span><br><span class="line">shutil.move(source_image_path, destination_image_path)</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="comment"># åœ¨.mdæ–‡ä»¶ä¸­å°†ç©ºæ ¼æ›¿æ¢ä¸º %20</span></span><br><span class="line"></span><br><span class="line">new_link = <span class="string">f'![](../images/<span class="subst">{urllib.parse.quote(image_name)}</span>)'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># åªæ›¿æ¢å½“å‰å¤„ç†çš„å›¾ç‰‡é“¾æ¥</span></span><br><span class="line"></span><br><span class="line">new_content = re.sub(<span class="string">r'!\[\['</span> + re.escape(image_link) + <span class="string">r'\|.*?\]\]'</span>, new_link, new_content)</span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f"å›¾ç‰‡ä¸å­˜åœ¨: <span class="subst">{source_image_path}</span>"</span>)</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="comment"># æ£€æŸ¥æ–‡ä»¶å†…å®¹æ˜¯å¦å®é™…å˜åŒ–</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> new_content != content:</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f"æ–‡ä»¶å†…å®¹å·²æ›´æ”¹ï¼Œä¿å­˜ä¿®æ”¹: <span class="subst">{md_file_path}</span>"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(md_file_path, <span class="string">'w'</span>, encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:</span><br><span class="line"></span><br><span class="line">f.write(new_content)</span><br><span class="line"></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f"æ–‡ä»¶å†…å®¹æœªå˜åŒ–: <span class="subst">{md_file_path}</span>"</span>)</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®_postså’Œimagesæ–‡ä»¶å¤¹è·¯å¾„</span></span><br><span class="line"></span><br><span class="line">posts_dir = <span class="string">'./myblog/source/_posts'</span> <span class="comment"># è¯·æ›¿æ¢ä¸ºä½ å®é™…çš„è·¯å¾„</span></span><br><span class="line"></span><br><span class="line">images_dir = <span class="string">'./myblog/source/images'</span> <span class="comment"># è¯·æ›¿æ¢ä¸ºä½ å®é™…çš„è·¯å¾„</span></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">move_images_and_update_links(posts_dir, images_dir)</span><br></pre></td></tr></tbody></table></figure></div>
<ol>
<li>åœ¨åšå®¢ä»“åº“é‡Œç¼–è¾‘çš„æ–‡ç« ï¼Œè¿›è¡Œä»¥ä¸‹è®¾ç½®<img lazyload="" src="/images/loading.svg" data-src="/../images/Pasted%20image%2020250308201636.png"></li>
</ol>
]]></content>
      <categories>
        <category>å˜¿å˜¿</category>
      </categories>
  </entry>
</search>
